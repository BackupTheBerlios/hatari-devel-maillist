<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> No subject
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/hatari-devel/2012q1/index.html" >
   <LINK REL="made" HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20No%20subject&In-Reply-To=%3Cmailman.5.1331733835.3092.hatari-devel%40lists.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001193.html">
   <LINK REL="Next"  HREF="000342.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>No subject</H1>
    <B></B> 
    <A HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20No%20subject&In-Reply-To=%3Cmailman.5.1331733835.3092.hatari-devel%40lists.berlios.de%3E"
       TITLE="No subject">
       </A><BR>
    <I>Wed Mar 14 15:03:43 CET 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="001193.html">No subject
</A></li>
        <LI>Next message: <A HREF="000342.html">No subject
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1540">[ date ]</a>
              <a href="thread.html#1540">[ thread ]</a>
              <a href="subject.html#1540">[ subject ]</a>
              <a href="author.html#1540">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>returning, as this part of the code never returns if the user doesn't use 
the gui.

The problem is that you run the DSP for &quot;cycles&quot; cpu cycles, but this 
doesn't take into account the fact that an exception/interrupt can occur 
and will add at least 56 cycles to the current instruction.

I pushed a new version that correctly compute all cycles spent in CPU 
emulation before calling DSP emulation. Maybe this will not fix all 
problems, but this should give much better synch between cpu&lt;-&gt;dsp when 
some cpu interrupts happen (vhl, hbl, ...)

This certainly explains why you got better results when turning timer D 
off. With this new version, you shouldn't get different results when timer 
D is on or off.

Could you try a few programs to see if results are better ?

Nicolas


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001193.html">No subject
</A></li>
	<LI>Next message: <A HREF="000342.html">No subject
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1540">[ date ]</a>
              <a href="thread.html#1540">[ thread ]</a>
              <a href="subject.html#1540">[ subject ]</a>
              <a href="author.html#1540">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/hatari-devel">More information about the hatari-devel
mailing list</a><br>
</body></html>
