<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [hatari-devel] source level debugging with the Hatari debugger
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/hatari-devel/2009q4/index.html" >
   <LINK REL="made" HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20source%20level%20debugging%20with%20the%20Hatari%20debugger&In-Reply-To=%3C4B37B721.8030208%40freesbee.fr%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001153.html">
   <LINK REL="Next"  HREF="001142.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[hatari-devel] source level debugging with the Hatari debugger</H1>
    <B>Vincent Rivi&#232;re</B> 
    <A HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20source%20level%20debugging%20with%20the%20Hatari%20debugger&In-Reply-To=%3C4B37B721.8030208%40freesbee.fr%3E"
       TITLE="[hatari-devel] source level debugging with the Hatari debugger">vincent.riviere at freesbee.fr
       </A><BR>
    <I>Sun Dec 27 20:36:01 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001153.html">[hatari-devel] source level debugging with the Hatari debugger
</A></li>
        <LI>Next message: <A HREF="001142.html">[hatari-devel] source level debugging with the Hatari debugger
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1141">[ date ]</a>
              <a href="thread.html#1141">[ thread ]</a>
              <a href="subject.html#1141">[ subject ]</a>
              <a href="author.html#1141">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Since my answer has been ignored list moderator, I have subscribed to 
the list and I post my answer again.

-------- Message original --------
Sujet : Re: source level debugging with the Hatari debugger
Date : Thu, 24 Dec 2009 15:05:30 +0100
De : Vincent Rivi&#232;re &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/hatari-devel">vincent.riviere at freesbee.fr</A>&gt;
Pour : <A HREF="https://lists.berlios.de/mailman/listinfo/hatari-devel">hatari-devel at lists.berlios.de</A>

Hello.

First of all, at the beginning I was simply complaining that my
favourite debugger MonST2 was unusable on ARAnyM, because it supports
only a 68000 CPU and the ST video modes. There is no mystery, MonST2 is
a very old low-level software, we can't expect it to work on more modern
machines.

In modern MiNT setups, we can use GDB to debug normal programs, but
there is no tool for debugging special software like fVDI, XaAES or MyAES.

Then Eero proposed to add source level debugging into Hatari. Why not,
but as Nicolas is saying, I'm not sure it is necessary to add such
complicated thing into Hatari.

However, I answer to Eero:

&gt;<i> Hatari already hooks pexec() call when emulating &quot;directory as a HDD&quot; at
</I>&gt;<i> GEMDOS level.  I guess it would need another hook (called regardless of
</I>&gt;<i> GEMDOS HDD emulation) when the pexec() has loaded the binary and relocated
</I>&gt;<i> it.
</I>
Yes, the Hatari debugger could load the debug info in this hook.

If the debug info is in DRI format all the labels are in the executable,
its easy.

If the debug info is in STABS format (the one produced by GCC), the
symbols are in the executable, too, but the source-level information
require the sources, gdb is usually the only program able to exploit
this. And Hatari should have some way to find the the sources.

In the case of some additional debugging abilities would be added to
Hatari, I think the display of the symbols only (no sources) would be
enough at first.

-- 
Vincent Rivi&#232;re


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001153.html">[hatari-devel] source level debugging with the Hatari debugger
</A></li>
	<LI>Next message: <A HREF="001142.html">[hatari-devel] source level debugging with the Hatari debugger
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1141">[ date ]</a>
              <a href="thread.html#1141">[ thread ]</a>
              <a href="subject.html#1141">[ subject ]</a>
              <a href="author.html#1141">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/hatari-devel">More information about the hatari-devel
mailing list</a><br>
</body></html>
