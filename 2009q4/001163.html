<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [hatari-devel] GEMDOS HD emulation broken?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/hatari-devel/2009q4/index.html" >
   <LINK REL="made" HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20GEMDOS%20HD%20emulation%20broken%3F&In-Reply-To=%3C89BA532D8C956043994C773C71153C92A8914D6ED9%40GVW1088EXB.americas.hpqcorp.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001158.html">
   <LINK REL="Next"  HREF="001177.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[hatari-devel] GEMDOS HD emulation broken?</H1>
    <B>Konador, Cyprian</B> 
    <A HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20GEMDOS%20HD%20emulation%20broken%3F&In-Reply-To=%3C89BA532D8C956043994C773C71153C92A8914D6ED9%40GVW1088EXB.americas.hpqcorp.net%3E"
       TITLE="[hatari-devel] GEMDOS HD emulation broken?">cyprian.konador at hp.com
       </A><BR>
    <I>Wed Dec 30 00:51:44 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001158.html">[hatari-devel] GEMDOS HD emulation broken?
</A></li>
        <LI>Next message: <A HREF="001177.html">[hatari-devel] GEMDOS HD emulation broken?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1163">[ date ]</a>
              <a href="thread.html#1163">[ thread ]</a>
              <a href="subject.html#1163">[ subject ]</a>
              <a href="author.html#1163">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> -----Original Message-----
</I>&gt;<i> From: Eero Tamminen
</I>&gt;<i>
</I>&gt;<i> Did these work differently with Hatari v1.3.1?
</I>&gt;<i> 
</I>&gt;<i> &gt;  - too long file names are accepted (e.g. BudgieDisks on attached
</I>&gt;<i> &gt; screen);
</I>&gt;<i> 
</I>&gt;<i> Sorry, what exactly is the problem?  Is it specific to some 
</I>&gt;<i> TOS version?
</I>
Issue exists in Hatari v1.3.1. and in current release too. The same behaviour exists under TOS1.62, 4.04, 3.06.  

TOS file/directory name should be 8+3, but current in release, GEMDOS emulation do not trim longer name.
And we can see following directories under e.g. GEM's desktop: 
LongFileName
BudgieDisks
And finally I'm not able to open such a directory from fileselector in Devpac.

Followed by Wikipedia: <A HREF="http://en.wikipedia.org/wiki/8.3_filename">http://en.wikipedia.org/wiki/8.3_filename</A> :

If the filename contains characters not allowed in an 8.3 name (including space which was disallowed by convention though not by the APIs) or either part is too long, the name is stripped of invalid characters such as spaces and extra periods. Other characters such as &quot;+&quot; are changed to the underscore &quot;_&quot;, and uppercased. The stripped name is then truncated to the first 6 letters of its basename, followed by a tilde, followed by a single digit, followed by a period &quot;.&quot;, followed by the first 3 characters of the extension.

    * Example: &quot;TextFile1.Mine.txt&quot; becomes &quot;TEXTFI~1.TXT&quot; (or &quot;TEXTFI~2.TXT&quot;, should &quot;TEXTFI~1.TXT&quot; already exist). &quot;ver +1.2.text&quot; becomes &quot;VER_12~1.TEX&quot;.



&gt;<i> &gt; - Hatari can't open an directory if there is that file 
</I>&gt;<i> &gt; 128CHESS.PRG. The only difference I found is that Modified 
</I>&gt;<i> date is 'out
</I>&gt;<i> &gt; of range' - 21.01.1660 The same issue happen when file's 
</I>&gt;<i> Create Date is
</I>&gt;<i> &gt; greaten than 2038-01-19
</I>&gt;<i> 
</I>&gt;<i> Is the problem specific to some TOS version(s)?
</I>&gt;<i> 
</I>&gt;<i> Can you make a tar.gz (or zip) from such a directory and send 
</I>&gt;<i> it to me?
</I>
I didn't face that issue under Hatari v1.3.1.
The same behaviour under TOS1.62, 4.04, 3.06. - I'm not able to open such a directory from neither desktop nor fileselector.

Attached you can find my example and below you can find another one:
<A HREF="http://lineout.atari.org/crap/128chess.zip">http://lineout.atari.org/crap/128chess.zip</A> 


Thanks

Regards
Cyprian
-------------- next part --------------
A non-text attachment was scrubbed...
Name: demos.tst.zip
Type: application/x-zip-compressed
Size: 457 bytes
Desc: demos.tst.zip
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/hatari-devel/attachments/20091229/e2fa348e/attachment.bin">https://lists.berlios.de/pipermail/hatari-devel/attachments/20091229/e2fa348e/attachment.bin</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001158.html">[hatari-devel] GEMDOS HD emulation broken?
</A></li>
	<LI>Next message: <A HREF="001177.html">[hatari-devel] GEMDOS HD emulation broken?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1163">[ date ]</a>
              <a href="thread.html#1163">[ thread ]</a>
              <a href="subject.html#1163">[ subject ]</a>
              <a href="author.html#1163">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/hatari-devel">More information about the hatari-devel
mailing list</a><br>
</body></html>
