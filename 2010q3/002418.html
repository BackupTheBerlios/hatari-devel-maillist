<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [hatari-devel] New FileSelector
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/hatari-devel/2010q3/index.html" >
   <LINK REL="made" HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20New%20FileSelector&In-Reply-To=%3C201009210053.19629.eerot%40users.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002411.html">
   <LINK REL="Next"  HREF="002420.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[hatari-devel] New FileSelector</H1>
    <B>Eero Tamminen</B> 
    <A HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20New%20FileSelector&In-Reply-To=%3C201009210053.19629.eerot%40users.berlios.de%3E"
       TITLE="[hatari-devel] New FileSelector">eerot at users.berlios.de
       </A><BR>
    <I>Mon Sep 20 23:53:19 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="002411.html">[hatari-devel] New FileSelector
</A></li>
        <LI>Next message: <A HREF="002420.html">[hatari-devel] New FileSelector
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2418">[ date ]</a>
              <a href="thread.html#2418">[ thread ]</a>
              <a href="subject.html#2418">[ subject ]</a>
              <a href="author.html#2418">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Btw. Why the sdlgui.h struct w &amp; h members needed to be converted
to floats?  No other objects need floats and I don't see why scrollbar
would need those to be floats either as the SDL drawing co-ordinates are
all integers.

If floats are needed for calculations, I think it should be possible to just
have exact float variables internal to the file selector which are just set 
to the (integer) scrollbar object variables before scrollbar is drawn...?

(The patches seemed to have quite a lot of &quot;unnecessary&quot; explicit casts too.
AFAIK variable assignment always does an implicit cast to target type and
operations on different types implicitly upcasts values that have smaller
scope.)


	- Eero

PS. Making gui-sdl const correct is easy, see attached patch.  It leaves one
warning though:
/home/eero/work/hatari/src/gui-sdl/sdlgui.c: In function &#8216;SDLGui_EditField&#8217;:
/home/eero/work/hatari/src/gui-sdl/sdlgui.c:482: warning: cast discards 
qualifiers from pointer target type

PPS. The othe patch fixes GCC flag changing for uae-cpu + disables only
the needed unused checks, not all the unused checks.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: sdl-gui-const.diff
Type: text/x-diff
Size: 3416 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/hatari-devel/attachments/20100921/a2dfd3ea/attachment.diff">https://lists.berlios.de/pipermail/hatari-devel/attachments/20100921/a2dfd3ea/attachment.diff</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: uae-warn-fix.diff
Type: text/x-diff
Size: 620 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/hatari-devel/attachments/20100921/a2dfd3ea/attachment-0001.diff">https://lists.berlios.de/pipermail/hatari-devel/attachments/20100921/a2dfd3ea/attachment-0001.diff</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002411.html">[hatari-devel] New FileSelector
</A></li>
	<LI>Next message: <A HREF="002420.html">[hatari-devel] New FileSelector
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2418">[ date ]</a>
              <a href="thread.html#2418">[ thread ]</a>
              <a href="subject.html#2418">[ subject ]</a>
              <a href="author.html#2418">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/hatari-devel">More information about the hatari-devel
mailing list</a><br>
</body></html>
