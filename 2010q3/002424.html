<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [hatari-devel] Pasti support and other things
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/hatari-devel/2010q3/index.html" >
   <LINK REL="made" HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20Pasti%20support%20and%20other%20things&In-Reply-To=%3C4C9B115B.8040606%40corp.free.fr%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002419.html">
   <LINK REL="Next"  HREF="002425.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[hatari-devel] Pasti support and other things</H1>
    <B>Nicolas Pomar&#232;de</B> 
    <A HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20Pasti%20support%20and%20other%20things&In-Reply-To=%3C4C9B115B.8040606%40corp.free.fr%3E"
       TITLE="[hatari-devel] Pasti support and other things">npomarede at corp.free.fr
       </A><BR>
    <I>Thu Sep 23 10:35:39 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="002419.html">[hatari-devel] Web page pointer to PASTI floppy image format
</A></li>
        <LI>Next message: <A HREF="002425.html">[hatari-devel] Hatari questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2424">[ date ]</a>
              <a href="thread.html#2424">[ thread ]</a>
              <a href="subject.html#2424">[ subject ]</a>
              <a href="author.html#2424">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Le 23/09/2010 02:30, Markus Fritze a &#233;crit :
 &gt; Hi,
 &gt;
 &gt; I wrote a bunch of stuff professionally in the 80s and early 90s 
before moving to the Mac, like the TurboAss/Bugaboo, the switcher in 
C-Lab Notator SL, copy protection for e.g. Giana Sisters and so on. I am 
currently playing with Hatari and reverse-engineered the PASTI format 
(<A HREF="http://www.sarnau.info/atari:pasti_file_format">http://www.sarnau.info/atari:pasti_file_format</A>). I have a first trivial 
implementation running in Hatari on my machine. I could add FDC Track 
Track support, etc., but this would require to rewrite the floppy/fdc 
code in general to add the FDC track and fuzzy sector support. Not a big 
thing, but I would touch all the floppy sources.
 &gt;
 &gt; I also fixed the Mac version, added a better disassembler (a modified 
version from Aaron Giles), fixed a crash with breakpoints and added an 
Xcode project for the Mac users.
 &gt;
 &gt; Anybody interested in these changes?
 &gt;
 &gt;
 &gt; Thanks,
 &gt; Markus Fritze,&lt;<A HREF="http://www.sarnau.info">http://www.sarnau.info</A>&gt;


Hello,

I saw your pasti's description, that's quite interesting and along with 
the hxc project (<A HREF="http://www.torlus.com/floppy/">http://www.torlus.com/floppy/</A>) this certainly gives 
some solid bases to add a first support (at least for non protected 
disks with non standard sector size, such as the Union Demo for example).

If you wish to rewrite parts of the floppy's code, no problem with that. 
Just send your modifications to this list and I will look at it (send 
the whole file or some &quot;diff -u&quot; patches).

Current code is certainly quite limited, with wrong timings for some 
commands (for example the &quot;Just Buggin&quot; by ACF requires a correct timing 
for the read sectors command).

The best way would certainly be to create a new internal disk structure 
that would be detailed enough to hold a pasti disk, as well as simpler 
disk such as msa, dim or just plain .st format.

Each of these formats would be loaded in this generic structures 
(splitting tracks, sectors, gaps if present, ...) and could then be 
accessed through the fdc interface for each command.

A first implementation could take care of dealing with these format, 
without taking care of the timing issues. Once this works, we could add 
correct timings using Hatari's internal timers.

Regarding your other patches, send them as independant stand alone 
patches, so the interested people can review them.

Thanks

Nicolas

PS : your mail was not automatically delivered to the mailing list, I 
think you didn't subscribe to hatari-devel ML.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002419.html">[hatari-devel] Web page pointer to PASTI floppy image format
</A></li>
	<LI>Next message: <A HREF="002425.html">[hatari-devel] Hatari questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2424">[ date ]</a>
              <a href="thread.html#2424">[ thread ]</a>
              <a href="subject.html#2424">[ subject ]</a>
              <a href="author.html#2424">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/hatari-devel">More information about the hatari-devel
mailing list</a><br>
</body></html>
