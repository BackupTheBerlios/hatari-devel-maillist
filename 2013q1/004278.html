<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [hatari-devel] WinUAE and 030 cache hits/misses?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/hatari-devel/2013q1/index.html" >
   <LINK REL="made" HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20WinUAE%20and%20030%20cache%20hits/misses%3F&In-Reply-To=%3C201301210205.43428.oak%40helsinkinet.fi%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004277.html">
   <LINK REL="Next"  HREF="004279.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[hatari-devel] WinUAE and 030 cache hits/misses?</H1>
    <B>Eero Tamminen</B> 
    <A HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20WinUAE%20and%20030%20cache%20hits/misses%3F&In-Reply-To=%3C201301210205.43428.oak%40helsinkinet.fi%3E"
       TITLE="[hatari-devel] WinUAE and 030 cache hits/misses?">oak at helsinkinet.fi
       </A><BR>
    <I>Mon Jan 21 01:05:43 CET 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="004277.html">[hatari-devel] GEMBench results for TT &amp; Falcon modes
</A></li>
        <LI>Next message: <A HREF="004279.html">[hatari-devel] WinUAE and 030 cache hits/misses?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4278">[ date ]</a>
              <a href="thread.html#4278">[ thread ]</a>
              <a href="subject.html#4278">[ subject ]</a>
              <a href="author.html#4278">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Is WinUAE CPU core able to detect cache hits/misses?

Doug is asking about that on Atari forum, to help
optimize Bad Mood for Falcon:
<A HREF="http://www.atari-forum.com/viewtopic.php?f=26&amp;t=6857&amp;start=125">http://www.atari-forum.com/viewtopic.php?f=26&amp;t=6857&amp;start=125</A>

-----
I have one more, perhaps more difficult 'request', but I believe it would be 
very worthwhile 

that is... to count cache misses on instruction addresses (and ideally, on 
data addresses too but i-cache is more interesting most of the time). I 
realize this means the cache behaviour should be quite close to a real 68030 
but it doesn't rely on timing accuracy so it seems like it might be 
practical without much margin for error.

Being able to view cache misses on the code would be fantastic for larger 
areas of code. We are normally blind to this information and it's difficult 
to test non-loop code offline except to measure the size - and that doesn't 
work well if the code has complex program flow (it's always doable but it 
gets impractically difficult on bigger programs).

So this would be a 'magical' feature for me I think.
-----

If it has support for that, I could add to profiler
counting of them, per instruction.


	- Eero
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004277.html">[hatari-devel] GEMBench results for TT &amp; Falcon modes
</A></li>
	<LI>Next message: <A HREF="004279.html">[hatari-devel] WinUAE and 030 cache hits/misses?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4278">[ date ]</a>
              <a href="thread.html#4278">[ thread ]</a>
              <a href="subject.html#4278">[ subject ]</a>
              <a href="author.html#4278">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/hatari-devel">More information about the hatari-devel
mailing list</a><br>
</body></html>
