<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [hatari-devel] New CPU  and falcon emulation
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/hatari-devel/2011q1/index.html" >
   <LINK REL="made" HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20New%20CPU%20%20and%20falcon%20emulation&In-Reply-To=%3C4D4028E1.70901%40free.fr%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002957.html">
   <LINK REL="Next"  HREF="002887.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[hatari-devel] New CPU  and falcon emulation</H1>
    <B>Laurent Sallafranque</B> 
    <A HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20New%20CPU%20%20and%20falcon%20emulation&In-Reply-To=%3C4D4028E1.70901%40free.fr%3E"
       TITLE="[hatari-devel] New CPU  and falcon emulation">laurent.sallafranque at free.fr
       </A><BR>
    <I>Wed Jan 26 15:00:01 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002957.html">[hatari-devel] Cebit93 demo seems to run well too (no more	screen update problems)
</A></li>
        <LI>Next message: <A HREF="002887.html">[hatari-devel] New CPU and falcon emulation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2886">[ date ]</a>
              <a href="thread.html#2886">[ thread ]</a>
              <a href="subject.html#2886">[ subject ]</a>
              <a href="author.html#2886">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I've done a lot of tests. I've got better results now than I had with 
the older core.
For me, this new core is adopted ;)

More programs are working, and I haven't seen any regression for now.
Sound is globally better (there sre still some glitches sometimes).

I've included the new run_dsp code.
If I want to let run BOUND2, BOUND3 and ROT3DBMP, I can add a &quot;+3&quot; to 
this line in dsp_run:
         save_cycles += nHostCycles * 2; // + 3 if we want bound2.prg, 
bound3.prg and rot3dBMP to work properly

I won't add the &quot;+3&quot; for now, as it may hide another problem.

I've adapted the algo tomas from nocrew explained me for MP2 player.
Sound is now correctly transmitted from DMA to DSP_receive.
But the music plays a lot too fast (I don't know why for now).

Synchro between CPU and DSP are still the main problem to solve I think.
Videl is the other one. I'll give it a try now, as I think it's the only 
component that is not emulated at all.

Maybe Videl improvement will increase falcon emulation compatibility 
(for HBL and VBL sync for example).
Anyway, it'll allow more demos to work.

So, except if you think there's something more urgent to finish, I'll 
enter in videl emulation.

Regards

Laurent


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002957.html">[hatari-devel] Cebit93 demo seems to run well too (no more	screen update problems)
</A></li>
	<LI>Next message: <A HREF="002887.html">[hatari-devel] New CPU and falcon emulation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2886">[ date ]</a>
              <a href="thread.html#2886">[ thread ]</a>
              <a href="subject.html#2886">[ subject ]</a>
              <a href="author.html#2886">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/hatari-devel">More information about the hatari-devel
mailing list</a><br>
</body></html>
