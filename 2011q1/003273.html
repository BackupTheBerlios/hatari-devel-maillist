<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [hatari-devel] Crosscompiling Hatari for GP2X Wiz
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/hatari-devel/2011q1/index.html" >
   <LINK REL="made" HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20Crosscompiling%20Hatari%20for%20GP2X%20Wiz&In-Reply-To=%3C201103302212.58659.oak%40helsinkinet.fi%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003269.html">
   <LINK REL="Next"  HREF="003274.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[hatari-devel] Crosscompiling Hatari for GP2X Wiz</H1>
    <B>Eero Tamminen</B> 
    <A HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20Crosscompiling%20Hatari%20for%20GP2X%20Wiz&In-Reply-To=%3C201103302212.58659.oak%40helsinkinet.fi%3E"
       TITLE="[hatari-devel] Crosscompiling Hatari for GP2X Wiz">oak at helsinkinet.fi
       </A><BR>
    <I>Wed Mar 30 21:12:58 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003269.html">[hatari-devel] Crosscompiling Hatari for GP2X Wiz
</A></li>
        <LI>Next message: <A HREF="003274.html">[hatari-devel] Crosscompiling Hatari for GP2X Wiz
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3273">[ date ]</a>
              <a href="thread.html#3273">[ thread ]</a>
              <a href="subject.html#3273">[ subject ]</a>
              <a href="author.html#3273">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

On keskiviikko 30 maaliskuu 2011, Matthias Arndt wrote:
&gt;&gt;<i> SDL seems to have macro for checking for SDL version, so it might be
</I>&gt;&gt;<i> possible that it doesn't need changes to CMake.
</I>&gt;<i>
</I>&gt;<i> I checked those version macros aswell. The problem is, they only work at
</I>&gt;<i> runtime while the problem already occurs at compile time.
</I>
Sorry, I don't understand.  Those macros are evaluated at compile-time
against version defines coming from your SDL headers.  It doesn't do
anything at runtime.


&gt;<i> The good points: the binary can execute, I can get terminal output.
</I>&gt;<i> The bad point: The config I customtailored for my tests works with the
</I>&gt;<i> PC Linux build and opens a 320x240 window.
</I>
320x240, not 32x200?


&gt;<i> On the Wiz it gives &quot;Video mode not supported&quot;
</I>&gt;<i> 
</I>&gt;<i> That error seems to come from SDL and not Hatari.
</I>&gt;<i> 
</I>&gt;<i> The following SDL video init works for my own SDL game on the Wiz:
</I>&gt;<i> 
</I>&gt;<i> screen = SDL_SetVideoMode(320, 240, 16, SDL_video_flags)
</I>&gt;<i> 
</I>&gt;<i> The flags are set to no hardware surface, fullscreen, no doublebuffer
</I>
Only difference that Hatari has in flags is that it sets SDL_HWSURFACE flag
for fullscreen. In both fullscreen &amp; windows mode it sets SDL_HWPALETTE.

First you can test by starting Hatari in non-fullscreen, second you could
try with your tester.

I guess SDL_HWPALETTE is relevant only for 8-bit more, so it would seem
a bit strange if that's the problem...


&gt;<i> How can I configure Hatari via commandline or the configfile to engage
</I>&gt;<i> such videomode?
</I>
You cannot specify the flags on the command line currently.

You can change the flags manually in	src/screen.c::Screen_SetResolution().


&gt;<i> I won't start coding my joystick and keyboard patches unless I finally
</I>&gt;<i> can get some screen output or atleast an EmuTOS bootscreen on my Wiz.
</I>
Actually, I started to think that the joystick thing could be quite
inconvenient for the user.  He would need to use Hatari options dialog
to switch to normal joystick after he's handled the key press.

Wikipedia didn't say whether the device has X server:
	<A HREF="http://en.wikipedia.org/wiki/GP2X_Wiz">http://en.wikipedia.org/wiki/GP2X_Wiz</A>

If it has, wouldn't it be more convenient &amp; easier just to launch something
like xvkbd with Hatari (like some people do with other emulators on N8x0)?


	- Eero

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003269.html">[hatari-devel] Crosscompiling Hatari for GP2X Wiz
</A></li>
	<LI>Next message: <A HREF="003274.html">[hatari-devel] Crosscompiling Hatari for GP2X Wiz
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3273">[ date ]</a>
              <a href="thread.html#3273">[ thread ]</a>
              <a href="subject.html#3273">[ subject ]</a>
              <a href="author.html#3273">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/hatari-devel">More information about the hatari-devel
mailing list</a><br>
</body></html>
