<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [hatari-devel] Memory, Falcon and TT (24 vs 32 bits computers)
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/hatari-devel/2011q1/index.html" >
   <LINK REL="made" HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20Memory%2C%20Falcon%20and%20TT%20%2824%20vs%2032%20bits%20computers%29&In-Reply-To=%3C4D389E39.1030605%40free.fr%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002856.html">
   <LINK REL="Next"  HREF="002858.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[hatari-devel] Memory, Falcon and TT (24 vs 32 bits computers)</H1>
    <B>Laurent Sallafranque</B> 
    <A HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20Memory%2C%20Falcon%20and%20TT%20%2824%20vs%2032%20bits%20computers%29&In-Reply-To=%3C4D389E39.1030605%40free.fr%3E"
       TITLE="[hatari-devel] Memory, Falcon and TT (24 vs 32 bits computers)">laurent.sallafranque at free.fr
       </A><BR>
    <I>Thu Jan 20 21:42:33 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002856.html">[hatari-devel] Memory, Falcon and TT (24 vs 32 bits computers)
</A></li>
        <LI>Next message: <A HREF="002858.html">[hatari-devel] Memory, Falcon and TT (24 vs 32 bits computers)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2857">[ date ]</a>
              <a href="thread.html#2857">[ thread ]</a>
              <a href="subject.html#2857">[ subject ]</a>
              <a href="author.html#2857">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yes, but if we can do these changes, we'll have more memory, the 68040 
(or 68060) and the 68040 MMU.

This mean the opportunity to be able to play the 060 demos.

As I think that the goal is now to run on the WinUae CPU, and that 
adding the extra memory is possible, why not doing it.


Laurent


Le 20/01/2011 21:38, Eero Tamminen a &#233;crit :
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> On keskiviikko 19 tammikuu 2011, Thomas Huth wrote:
</I>&gt;&gt;<i> I don't think that you've got to change here much. The old UAE core
</I>&gt;&gt;<i> already has the address_space_24 configuration variable, which should
</I>&gt;&gt;<i> theoretically be able to switch between 24 and 32 bit mode.
</I>&gt;&gt;<i> The magic is here only done in uae-cpu/memory.c: When in 24 bit mode
</I>&gt;&gt;<i> (which is the only working mode in Hatari right now), the same address
</I>&gt;&gt;<i> banks are mapped multiple times already, so that it does not matter
</I>&gt;&gt;<i> which byte has been put in the highest 8 bits of the the address.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I think you've only got the change both memory.c files a little bit if
</I>&gt;&gt;<i> you want to support Fast-RAM (beyond the 16 MB barrier) emulation.
</I>&gt;<i> There's also the OS memory initialization code in stMemory.c and most
</I>&gt;<i> of the Hatari code uses the macros&amp;  inlines from stMemory.h to access
</I>&gt;<i> memory:
</I>&gt;<i> $ grep -l STMemory_ *.c */*.[ch]
</I>&gt;<i> bios.c
</I>&gt;<i> blitter.c
</I>&gt;<i> fdc.c
</I>&gt;<i> gemdos.c
</I>&gt;<i> memorySnapShot.c
</I>&gt;<i> mfp.c
</I>&gt;<i> stMemory.c
</I>&gt;<i> tos.c
</I>&gt;<i> vdi.c
</I>&gt;<i> xbios.c
</I>&gt;<i> includes/stMemory.h
</I>&gt;<i> cpu/hatari-glue.c
</I>&gt;<i> debug/breakcond.c
</I>&gt;<i> debug/debugcpu.c
</I>&gt;<i> debug/debugInfo.c
</I>&gt;<i> debug/evaluate.c
</I>&gt;<i> uae-cpu/hatari-glue.c
</I>&gt;<i>
</I>&gt;<i> Can applications on TT/CT60 etc. use addresses pointing to TT/Fast-RAM
</I>&gt;<i> e.g. in their GEMDOS calls?
</I>&gt;<i>
</I>&gt;<i> If yes, either stMemory.h macros&amp;  functions need to be modified too
</I>&gt;<i> or alternatively a lot of Hatari code needs to be changed to use AUE core
</I>&gt;<i> functions instead...
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 	 - Eero
</I>&gt;<i> _______________________________________________
</I>&gt;<i> hatari-devel mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/hatari-devel">hatari-devel at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/hatari-devel">https://lists.berlios.de/mailman/listinfo/hatari-devel</A>
</I>&gt;<i>
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002856.html">[hatari-devel] Memory, Falcon and TT (24 vs 32 bits computers)
</A></li>
	<LI>Next message: <A HREF="002858.html">[hatari-devel] Memory, Falcon and TT (24 vs 32 bits computers)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2857">[ date ]</a>
              <a href="thread.html#2857">[ thread ]</a>
              <a href="subject.html#2857">[ subject ]</a>
              <a href="author.html#2857">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/hatari-devel">More information about the hatari-devel
mailing list</a><br>
</body></html>
