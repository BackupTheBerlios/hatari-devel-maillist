<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [hatari-devel] Stereo DC filtering which accounts for DMA sound
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/hatari-devel/2011q4/index.html" >
   <LINK REL="made" HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20Stereo%20DC%20filtering%20which%20accounts%20for%20DMA%20sound&In-Reply-To=%3C4ED38A62.5080901%40corp.free.fr%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004210.html">
   <LINK REL="Next"  HREF="004214.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[hatari-devel] Stereo DC filtering which accounts for DMA sound</H1>
    <B>Nicolas Pomar&#232;de</B> 
    <A HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20Stereo%20DC%20filtering%20which%20accounts%20for%20DMA%20sound&In-Reply-To=%3C4ED38A62.5080901%40corp.free.fr%3E"
       TITLE="[hatari-devel] Stereo DC filtering which accounts for DMA sound">npomarede at corp.free.fr
       </A><BR>
    <I>Mon Nov 28 14:19:30 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="004210.html">[hatari-devel] Stereo DC filtering which accounts for DMA sound
</A></li>
        <LI>Next message: <A HREF="004214.html">[hatari-devel] NBCD mem cycles ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4218">[ date ]</a>
              <a href="thread.html#4218">[ thread ]</a>
              <a href="subject.html#4218">[ subject ]</a>
              <a href="author.html#4218">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Le 21/11/2011 22:20, David Savinkoff a &#233;crit :
&gt;<i> How I derived lumped component value:
</I>&gt;<i>
</I>&gt;<i> Looking at the STf schematic; R8=1K is pulled up by the YM2149 so this
</I>&gt;<i> 1K is electrcally in parallel with the YM2149 from the perspective of
</I>&gt;<i> the -ve end of C11=100uF. R8 can have 2.5volts and 0volts applied to it
</I>&gt;<i> at 50% duty cycle with a 5v powersupply. If R8 is pulled up to 2.5 volts
</I>&gt;<i> by a series resistor connected to 5.0 volts, that resistor will be
</I>&gt;<i> 1k (YM2149 looks like 1k when pulling up and infinite otherwise).
</I>&gt;<i> Thus the YM2149 looks like 2k on average.
</I>&gt;<i>
</I>&gt;<i> Q1 has an approximate gain of 100 so R12=470 looks like 47k on Q1's
</I>&gt;<i> base.
</I>&gt;<i>
</I>&gt;<i> (R8=1k//2k) + (R9=10k//R10=5.1k//47k) = 3817.7 ohms
</I>&gt;<i>
</I>&gt;<i> C11=100uF derated by 40% and designed to swamp its inadequecies by a
</I>&gt;<i> factor of 10 was calculated to be 5.7uF by the person who put it there.
</I>&gt;<i>
</I>
Hello

thanks for your explanation, I applied your patch.

For my information, what are the differences between the original filter 
in the ST (with several R and C) and the one with your values and only 
one R and C ? Does the ST's one filters different freqs ? (even if it 
would be subbtle to hear)

Else, just for the record, I found an old interesting article in french 
ST Magazine. It was a small card to turn the mono output into stereo 
output (I built it in my ST back then, the ym suffered quite a lot from 
my poor soldering skill at that time, but it worked anyway :) ).

Still, what is interesting is that the author gathered informations 
about the various filters used in different ST generation, with the 
component values, until Atari reached a &quot;stable&quot; model (columns STFNR 
and MEGA ST, refering to fig. 1)

<A HREF="http://download.abandonware.org/magazines/ST%20Magazine/stmagazine_numero023/st%20magazine%20-%20N023%20-%20janvier%201988%20-%20page136%20et%20137.jpg">http://download.abandonware.org/magazines/ST%20Magazine/stmagazine_numero023/st%20magazine%20-%20N023%20-%20janvier%201988%20-%20page136%20et%20137.jpg</A>

<A HREF="http://download.abandonware.org/magazines/ST%20Magazine/stmagazine_numero023/st%20magazine%20-%20N023%20-%20janvier%201988%20-%20page138%20et%20139.jpg">http://download.abandonware.org/magazines/ST%20Magazine/stmagazine_numero023/st%20magazine%20-%20N023%20-%20janvier%201988%20-%20page138%20et%20139.jpg</A>


Nicolas

&gt;<i> Thanks
</I>&gt;<i> David
</I>&gt;<i>
</I>&gt;<i> PS:
</I>&gt;<i> My lousy mail frustrates me also. It would be a luxury to have a
</I>&gt;<i> secure email connection with highlighting. I have to cut and paste
</I>&gt;<i> into vim. I think a solution is to save the email source, open it
</I>&gt;<i> with kmail, edit, then cut and paste into lousy telus mail.
</I>
Not that I want to promote the obvious &quot;big&quot; ones, but maybe you should 
give a try to gmail, yahoo or hotmail ? ;)

But if you use vim, I'm sure there should be a small vim script floating 
around that indent the mail you want to answer by adding &quot;&gt; &quot; at the 
start of each line and wrapping at 80 columns.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004210.html">[hatari-devel] Stereo DC filtering which accounts for DMA sound
</A></li>
	<LI>Next message: <A HREF="004214.html">[hatari-devel] NBCD mem cycles ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4218">[ date ]</a>
              <a href="thread.html#4218">[ thread ]</a>
              <a href="subject.html#4218">[ subject ]</a>
              <a href="author.html#4218">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/hatari-devel">More information about the hatari-devel
mailing list</a><br>
</body></html>
