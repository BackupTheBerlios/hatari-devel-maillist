<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [hatari-devel] Old vs New CPU
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/hatari-devel/2011q4/index.html" >
   <LINK REL="made" HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20Old%20vs%20New%20CPU&In-Reply-To=%3CCAN5rfbRbJ5FtU3xyR0%3DY%2BvUNw2kyM86-MiYFqZDmr9QOjKu%3Dug%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004110.html">
   <LINK REL="Next"  HREF="004112.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[hatari-devel] Old vs New CPU</H1>
    <B>Miro Krop&#225;&#269;ek</B> 
    <A HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20Old%20vs%20New%20CPU&In-Reply-To=%3CCAN5rfbRbJ5FtU3xyR0%3DY%2BvUNw2kyM86-MiYFqZDmr9QOjKu%3Dug%40mail.gmail.com%3E"
       TITLE="[hatari-devel] Old vs New CPU">miro.kropacek at gmail.com
       </A><BR>
    <I>Wed Oct 19 00:31:46 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="004110.html">[hatari-devel] Old vs New CPU
</A></li>
        <LI>Next message: <A HREF="004112.html">[hatari-devel] Old vs New CPU
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4111">[ date ]</a>
              <a href="thread.html#4111">[ thread ]</a>
              <a href="subject.html#4111">[ subject ]</a>
              <a href="author.html#4111">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Mikro shamefull admits he is busy with other things, at least atari related,
but hasn't forgotten :)


&gt;<i> AND Dn,EA               0    2    3(0/0/1)    4(0/1/1)
</I>&gt;<i> MOVEQ #(data),Dn        2    0    5(0/0/0)    2(0/1/0)
</I>&gt;<i> OR Dn,EA                0    1    3(0/0/1)    4(0/1/1)
</I>&gt;<i>
</I>&gt;<i> When I execute these 3 instructions under hatari, should I get :
</I>&gt;<i>
</I>&gt;<i> and :      3 cycles ---&gt; 4 cycles
</I>&gt;<i> moveq : 5 cycles ---&gt; 8 cycles
</I>&gt;<i> or :         3 cycles ---&gt; 4 cycles
</I>&gt;<i>
</I>&gt;<i> Total : 16 cycles (and no use of head/tail)
</I>&gt;<i>
</I>First of all, you can't calculate it like this, in general. Take a look at
my previous email on this topic, for the first line for example:

internal cycles = 3 - 1*2 (the table is made for 2 clock cycles per 1 bus
cycle) = 1
falcon cycles = 1 (internal cycle) + 1*4 (4 clock cycles per 1 bus cycle) =
5

Trouble is that here my knowledge ends. It's a really good question how this
works. My guess (!) would be (maybe you can dig something out from the 68030
UM) you just substract it from the final falcon cycles number as it's number
of internal cycles which 68030 is able to spare.

My practical advice: forget about heads/tails completely. There's so few
scenarios where it really helps I (and others) just ignore it when
calculating some inner-loop speed...



&gt;<i> Last question : do you know where I can find an algo that would explain how
</I>&gt;<i> to compute the exact number of cycles taken by a div ?
</I>&gt;<i>
</I>Isn't that part of 68k/68030 User's Manual? If not, I'm afraid it's not
available. I've seen similar doc for 68000 but this was taken by reverse
engineering.

-- 
MiKRO / Mystic Bytes
<A HREF="http://mikro.atari.org">http://mikro.atari.org</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/hatari-devel/attachments/20111019/72054437/attachment.html">https://lists.berlios.de/pipermail/hatari-devel/attachments/20111019/72054437/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004110.html">[hatari-devel] Old vs New CPU
</A></li>
	<LI>Next message: <A HREF="004112.html">[hatari-devel] Old vs New CPU
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4111">[ date ]</a>
              <a href="thread.html#4111">[ thread ]</a>
              <a href="subject.html#4111">[ subject ]</a>
              <a href="author.html#4111">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/hatari-devel">More information about the hatari-devel
mailing list</a><br>
</body></html>
