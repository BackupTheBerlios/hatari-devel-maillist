<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [hatari-devel] Long mail : new cpu cores + 2 questions.
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/hatari-devel/2011q4/index.html" >
   <LINK REL="made" HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20Long%20mail%20%3A%20new%20cpu%20cores%20%2B%202%20questions.&In-Reply-To=%3C4EAEA3FB.7020303%40corp.free.fr%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004131.html">
   <LINK REL="Next"  HREF="004133.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[hatari-devel] Long mail : new cpu cores + 2 questions.</H1>
    <B>Nicolas Pomar&#232;de</B> 
    <A HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20Long%20mail%20%3A%20new%20cpu%20cores%20%2B%202%20questions.&In-Reply-To=%3C4EAEA3FB.7020303%40corp.free.fr%3E"
       TITLE="[hatari-devel] Long mail : new cpu cores + 2 questions.">npomarede at corp.free.fr
       </A><BR>
    <I>Mon Oct 31 14:34:51 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="004131.html">[hatari-devel] Long mail : new cpu cores + 2 questions.
</A></li>
        <LI>Next message: <A HREF="004133.html">[hatari-devel] Long mail : new cpu cores + 2 questions.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4132">[ date ]</a>
              <a href="thread.html#4132">[ thread ]</a>
              <a href="subject.html#4132">[ subject ]</a>
              <a href="author.html#4132">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Le 31/10/2011 14:28, Laurent Sallafranque a &#233;crit :
&gt;<i> In complement : cpuemu_21 is really not completly 'cycle_exact'.
</I>&gt;<i>
</I>&gt;<i> Example (taken from Eko_system):
</I>&gt;<i>
</I>&gt;<i> cpu video_cyc= 132 132@ 0 : 0005C6C6 6708 BEQ.B #$00000008 == $0005C6D0 (T)
</I>&gt;<i> cpu video_cyc= 134 134@ 0 : 0005C6D0 4ab8 04be TST.L $000004be
</I>&gt;<i> cpu video_cyc= 150 150@ 0 : 0005C6D4 6706 BEQ.B #$00000006 == $0005C6DC (F)
</I>&gt;<i> cpu video_cyc= 150 150@ 0 : 0005C6D6 4eb0 01e1 04be JSR.L
</I>&gt;<i> (D0.W*1+1214)+0 == $0011a1bc
</I>&gt;<i> cpu video_cyc= 168 168@ 0 : 0011A1BC 48e7 fffe MOVEM.L D0-D7/A0-A6,-(A7)
</I>&gt;<i>
</I>&gt;<i> Here, BEQ is 0 cycles (when condition is false).
</I>&gt;<i> There are many examples like this in winuae new core CPU.
</I>&gt;<i>
</I>&gt;<i> Should I correct them ? (and fork from the original winuae cores ?)
</I>&gt;<i>
</I>&gt;<i> Regards
</I>&gt;<i>
</I>&gt;<i> Laurent
</I>
Hello

I didn't have time to look at the source, but it's completly possible 
that more recent cpu (than the 68000) take 0 cycle when branch is not 
taken (this is the whole point of branch prediction in modern cpu and 
the fact that several instructions ahead can be prefetched).

So, I would guess that it was made on purpose in WinUAE and that it's 
certainly the real behaviour for this cpu.

My advice would be to not change this, unless you find real examples 
that goes against this, or more detailed informations in the Motorola docs.


Nicolas

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004131.html">[hatari-devel] Long mail : new cpu cores + 2 questions.
</A></li>
	<LI>Next message: <A HREF="004133.html">[hatari-devel] Long mail : new cpu cores + 2 questions.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4132">[ date ]</a>
              <a href="thread.html#4132">[ thread ]</a>
              <a href="subject.html#4132">[ subject ]</a>
              <a href="author.html#4132">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/hatari-devel">More information about the hatari-devel
mailing list</a><br>
</body></html>
