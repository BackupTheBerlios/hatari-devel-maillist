<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [hatari-devel] Union demo abort with new EmuTOS?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/hatari-devel/2011q4/index.html" >
   <LINK REL="made" HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20Union%20demo%20abort%20with%20new%20EmuTOS%3F&In-Reply-To=%3C20111111000948.32eede9c%40think43%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004171.html">
   <LINK REL="Next"  HREF="004174.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[hatari-devel] Union demo abort with new EmuTOS?</H1>
    <B>Thomas Huth</B> 
    <A HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20Union%20demo%20abort%20with%20new%20EmuTOS%3F&In-Reply-To=%3C20111111000948.32eede9c%40think43%3E"
       TITLE="[hatari-devel] Union demo abort with new EmuTOS?">th.huth at gmx.de
       </A><BR>
    <I>Fri Nov 11 00:09:48 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="004171.html">[hatari-devel] Union demo abort with new EmuTOS?
</A></li>
        <LI>Next message: <A HREF="004174.html">[hatari-devel] Union demo abort with new EmuTOS?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4172">[ date ]</a>
              <a href="thread.html#4172">[ thread ]</a>
              <a href="subject.html#4172">[ subject ]</a>
              <a href="author.html#4172">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Am Thu, 10 Nov 2011 23:20:50 +0200
schrieb Eero Tamminen &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/hatari-devel">oak at helsinkinet.fi</A>&gt;:

&gt;<i> &gt; &gt; Hatari can avoid the abort by checking that VDI_OldPC is valid
</I>&gt;<i> &gt; &gt; (see attached patch), but how I can make it to raise illegal
</I>&gt;<i> &gt; &gt; instruction exception if it isn't?
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I'd rather suggest to chech m68k_getpc() being within the cartridge
</I>&gt;<i> &gt; memory region when OpCode_VDI has been called.
</I>&gt;<i> 
</I>&gt;<i> Any particular reason why it should be done like that?   IMHO checking
</I>&gt;<i> VDI_OldPC is cleaner, as that must anyway be valid when this is
</I>&gt;<i> called.
</I>
Well, VDI_OldPC does not seem to get cleared during reset yet. So when
you first run with VDI mode enabled, then disable it, your test will
fail.

Of course that could also be fixed easily, in that case your test
should be working fine, too.

 Thomas

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004171.html">[hatari-devel] Union demo abort with new EmuTOS?
</A></li>
	<LI>Next message: <A HREF="004174.html">[hatari-devel] Union demo abort with new EmuTOS?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4172">[ date ]</a>
              <a href="thread.html#4172">[ thread ]</a>
              <a href="subject.html#4172">[ subject ]</a>
              <a href="author.html#4172">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/hatari-devel">More information about the hatari-devel
mailing list</a><br>
</body></html>
