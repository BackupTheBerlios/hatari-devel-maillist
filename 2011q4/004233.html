<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [hatari-devel] joystick subsystem patch for configurable axis	mapping
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/hatari-devel/2011q4/index.html" >
   <LINK REL="made" HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20joystick%20subsystem%20patch%20for%20configurable%20axis%0A%09mapping&In-Reply-To=%3C1323509369.2768.4.camel%40jll%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004232.html">
   <LINK REL="Next"  HREF="004237.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[hatari-devel] joystick subsystem patch for configurable axis	mapping</H1>
    <B>Matthias Arndt</B> 
    <A HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20joystick%20subsystem%20patch%20for%20configurable%20axis%0A%09mapping&In-Reply-To=%3C1323509369.2768.4.camel%40jll%3E"
       TITLE="[hatari-devel] joystick subsystem patch for configurable axis	mapping">marndt at asmsoftware.de
       </A><BR>
    <I>Sat Dec 10 10:29:29 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="004232.html">[hatari-devel] Something missing in tuxfamily
</A></li>
        <LI>Next message: <A HREF="004237.html">[hatari-devel] joystick subsystem patch for configurable axis mapping
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4233">[ date ]</a>
              <a href="thread.html#4233">[ thread ]</a>
              <a href="subject.html#4233">[ subject ]</a>
              <a href="author.html#4233">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello together,

as I'm still prevented to commit changes myself, I post the files here
for review.

The attached patch includes a mapping table into the joystick subsystem
to map the joystick  axis to be used to the given SDL joystick name.

If the joystick name does not match any table entry, the code reverts to
the default mapping of using joystick axis 0 for X input and axis 1 for
Y input.

Atm the table is hardcoded but the longterm goal is to have the table
a) stored inthe Hatari config file
b) have GUI support to configure the data inbetween

Atm it only remaps the axis for my secondary USB gamepad but the table
can be tweaked to match other pads.

I tidied the mapping to the given SDL joystick name and not the SDL ID
as the SDL joystick ID can change if joysticks and pads are plugged in
in a different order.

Please review, if necessary tweak variable naming and commit.

Regards,
Matthias
-- 
Matthias Arndt &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/hatari-devel">marndt at asmsoftware.de</A>&gt;
PGP-Key: <A HREF="http://www.final-memory.org/files/marndt.asc">http://www.final-memory.org/files/marndt.asc</A>
Jabber: <A HREF="https://lists.berlios.de/mailman/listinfo/hatari-devel">simonsunnyboy at atari-jabber.org</A>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: joy.c
Type: text/x-csrc
Size: 16615 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/hatari-devel/attachments/20111210/579707d3/attachment.c">https://lists.berlios.de/pipermail/hatari-devel/attachments/20111210/579707d3/attachment.c</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: joy.h
Type: text/x-chdr
Size: 1729 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/hatari-devel/attachments/20111210/579707d3/attachment.h">https://lists.berlios.de/pipermail/hatari-devel/attachments/20111210/579707d3/attachment.h</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004232.html">[hatari-devel] Something missing in tuxfamily
</A></li>
	<LI>Next message: <A HREF="004237.html">[hatari-devel] joystick subsystem patch for configurable axis mapping
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4233">[ date ]</a>
              <a href="thread.html#4233">[ thread ]</a>
              <a href="subject.html#4233">[ subject ]</a>
              <a href="author.html#4233">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/hatari-devel">More information about the hatari-devel
mailing list</a><br>
</body></html>
