<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [hatari-devel] MiNT and Hatari drives
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/hatari-devel/2009q1/index.html" >
   <LINK REL="made" HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20MiNT%20and%20Hatari%20drives&In-Reply-To=%3C200902092331.20091.eerot%40users.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000187.html">
   <LINK REL="Next"  HREF="000150.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[hatari-devel] MiNT and Hatari drives</H1>
    <B>Eero Tamminen</B> 
    <A HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20MiNT%20and%20Hatari%20drives&In-Reply-To=%3C200902092331.20091.eerot%40users.berlios.de%3E"
       TITLE="[hatari-devel] MiNT and Hatari drives">eerot at users.berlios.de
       </A><BR>
    <I>Mon Feb  9 22:31:19 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000187.html">[hatari-devel] Hatari VIDEL code crash with NVDI
</A></li>
        <LI>Next message: <A HREF="000150.html">[hatari-devel] MiNT and Hatari drives
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#145">[ date ]</a>
              <a href="thread.html#145">[ thread ]</a>
              <a href="subject.html#145">[ subject ]</a>
              <a href="author.html#145">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

On Sunday 08 February 2009, Eero Tamminen wrote:
&gt;<i> On Tuesday 09 December 2008, Thomas Huth wrote:
</I>&gt;<i> &gt; But a &quot;NATFEAT&quot; driver for Mint would certainly be the cleaner
</I>&gt;<i> &gt; approach.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; - One cannot use mtools to access &amp; create these disk like one could
</I>&gt;<i> &gt; &gt; do with STonX hard drive images.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Can't you use a loopback device for this purpose and then normally
</I>&gt;<i> &gt; mount the partitions? (not sure whether this is possible, I never tried
</I>&gt;<i> &gt; this before)
</I>&gt;<i>
</I>&gt;<i> The partition table / partition offsets are HD driver specific it seems.
</I>&gt;<i> How do you get the partition offset (preferably automatically)?
</I>&gt;<i>
</I>&gt;<i> Btw. Aranym offers individual partition support (for EmuTOS):
</I>&gt;<i> 	<A HREF="http://wiki.aranym.org/manual#single_partition_mount">http://wiki.aranym.org/manual#single_partition_mount</A>
</I>&gt;<i>
</I>&gt;<i> &gt; There also seems to be some support for partitioned disk image in
</I>&gt;<i> &gt; mtools according to the info pages...
</I>&gt;<i>
</I>&gt;<i> The &quot;partition&quot; config variable doesn't seem to work, I guess because
</I>&gt;<i> mtools supports only DOS partition table, not GEMDOS one:
</I>&gt;<i>   <A HREF="http://www.atari-forum.com/wiki/index.php/Atari_ST_and_hard_disks">http://www.atari-forum.com/wiki/index.php/Atari_ST_and_hard_disks</A>
</I>
And endianess could also have been an issue:
	<A HREF="http://wiki.aranym.org/afs/hd_partition_linux">http://wiki.aranym.org/afs/hd_partition_linux</A>

This comment on that page seems promising:
&quot;EmuTOS supports the PC root sector format without an hard disk driver.&quot;

I guess I could next try creating hard disk partitioning completely with
Linux tools and see whether EmuTOS can really use it.  Then Mtools should be
able to access it too.

Does some Atari HD driver support the DOS (little endian) format
partitioning so that something else than EmuTOS could also be used
with such a disk image?


&gt;<i> As to the alternative &quot;offset&quot; variable, at least I didn't get it to work
</I>&gt;<i> (maybe I didn't hit right offset).  Any advice?
</I>&gt;<i>
</I>&gt;<i> &gt; &gt; Under Hatari I cannot access even the 16MB C: partition image[1],
</I>&gt;<i> &gt; &gt; regardless of whether I try to give it to Hatari as ASCI image or
</I>&gt;<i> &gt; &gt; floppy image.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Thomas, would it be much work to get STonX HD images to work Hatari?
</I>&gt;<i> &gt; &gt; That would help when trying to get MiNT stuff working under Hatari...
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; IIRC STonX abuses the BIOS trap for faking such hard disks. I don't
</I>&gt;<i> &gt; like this approach very much. The goal of Hatari has always been to
</I>&gt;<i> &gt; emulate the hardware as close as possible instead.
</I>&gt;<i>
</I>&gt;<i> I would be happy if the STonX HD images would work even as floppy images
</I>&gt;<i> in Hatari (currently they don't).  Would at least that be possible?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 	- Eero
</I>&gt;<i>
</I>&gt;<i> PS. I noticed a Debian package called &quot;atari-fdisk-cross&quot; which could
</I>&gt;<i> be used to partition the disk image files I guess, I haven't yet had time
</I>&gt;<i> to try it.
</I>
FYI: I've tried atari-fdisk-cross and at least it doesn't work with
partitioning  used by Cecile.  Besides, atari-fdisk-cross doesn't work with
image files, only devices (one can use loop device, but that requires root
rights) which makes it pretty awkward to use.


	- Eero

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000187.html">[hatari-devel] Hatari VIDEL code crash with NVDI
</A></li>
	<LI>Next message: <A HREF="000150.html">[hatari-devel] MiNT and Hatari drives
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#145">[ date ]</a>
              <a href="thread.html#145">[ thread ]</a>
              <a href="subject.html#145">[ subject ]</a>
              <a href="author.html#145">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/hatari-devel">More information about the hatari-devel
mailing list</a><br>
</body></html>
