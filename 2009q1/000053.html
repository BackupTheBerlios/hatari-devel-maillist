<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [hatari-devel] Potential bug with MSA disk images
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/hatari-devel/2009q1/index.html" >
   <LINK REL="made" HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20Potential%20bug%20with%20MSA%20disk%20images&In-Reply-To=%3C200901182335.43358.eerot%40users.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000052.html">
   <LINK REL="Next"  HREF="000054.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[hatari-devel] Potential bug with MSA disk images</H1>
    <B>Eero Tamminen</B> 
    <A HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20Potential%20bug%20with%20MSA%20disk%20images&In-Reply-To=%3C200901182335.43358.eerot%40users.berlios.de%3E"
       TITLE="[hatari-devel] Potential bug with MSA disk images">eerot at users.berlios.de
       </A><BR>
    <I>Sun Jan 18 22:35:43 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000052.html">[hatari-devel] Potential bug with MSA disk images
</A></li>
        <LI>Next message: <A HREF="000054.html">[hatari-devel] Potential bug with MSA disk images
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53">[ date ]</a>
              <a href="thread.html#53">[ thread ]</a>
              <a href="subject.html#53">[ subject ]</a>
              <a href="author.html#53">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

On Sunday 18 January 2009, Thomas Huth wrote:
&gt;<i> Matthias Arndt &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/hatari-devel">marndt at asmsoftware.de</A>&gt; wrote:
</I>&gt;<i> &gt; Am Sonntag, den 18.01.2009, 21:42 +0200 schrieb Eero Tamminen:
</I>&gt;<i> &gt; &gt; Could you apply also the attached additional patch and give again
</I>&gt;<i> &gt; &gt; the log?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Same behaviour - note that I ejected the b.msa from drive b: after it
</I>&gt;<i> &gt; was autoinserted..just to make sure. Same problems though:
</I>&gt;<i>
</I>&gt;<i> Urrggs... Now I was able to reproduce the problem...
</I>&gt;<i> the emulator tries to eject a file with the name from
</I>&gt;<i> ConfigureParams.DiskImage.szDiskFileName[Drive], but that points
</I>&gt;<i> already to the next file ... ugly!
</I>
Yep.

&gt;<i> Sorry, seems like I've messed that part up :-( My apologies to
</I>&gt;<i> everybody, I hope there hasn't been a real data loss yet!
</I>
I think this was actually from my file handling changes (I think they were 
for 1.1, not 1.0?) with which it was possible to cancel the changes done in
the Options dialog.  I had overlooked this kind of issue, sorry about that.

Is this bad enough to warrant Hatari v1.3 (as you've already added midi
in/through and IDE disk features) soonish?


&gt;<i> I'll try to fix this bug immediately!
</I>
My patch to Matthias tried to eject the floppy using the previous
configuration file name, but there were some added complications.
Your way is much cleaner.

(I'll add some extra debugging that this is easier to notice later on.)

Is there a similar problem with HD images (something buffered that would
need to be flushed from Hatari or TOS before emulation is rebooted to
prevent corrupting the image)?


	- Eero

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000052.html">[hatari-devel] Potential bug with MSA disk images
</A></li>
	<LI>Next message: <A HREF="000054.html">[hatari-devel] Potential bug with MSA disk images
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53">[ date ]</a>
              <a href="thread.html#53">[ thread ]</a>
              <a href="subject.html#53">[ subject ]</a>
              <a href="author.html#53">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/hatari-devel">More information about the hatari-devel
mailing list</a><br>
</body></html>
