<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [hatari-devel] Joystick Button 2 patch
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/hatari-devel/2009q1/index.html" >
   <LINK REL="made" HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20Joystick%20Button%202%20patch&In-Reply-To=%3C200902281310.14710.eerot%40users.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000189.html">
   <LINK REL="Next"  HREF="000192.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[hatari-devel] Joystick Button 2 patch</H1>
    <B>Eero Tamminen</B> 
    <A HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20Joystick%20Button%202%20patch&In-Reply-To=%3C200902281310.14710.eerot%40users.berlios.de%3E"
       TITLE="[hatari-devel] Joystick Button 2 patch">eerot at users.berlios.de
       </A><BR>
    <I>Sat Feb 28 12:10:14 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000189.html">[hatari-devel] Joystick Button 2 patch
</A></li>
        <LI>Next message: <A HREF="000192.html">[hatari-devel] Joystick Button 2 patch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#191">[ date ]</a>
              <a href="thread.html#191">[ thread ]</a>
              <a href="subject.html#191">[ subject ]</a>
              <a href="author.html#191">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

On Saturday 28 February 2009, Thomas Huth wrote:
&gt;<i> Eero Tamminen &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/hatari-devel">eerot at users.berlios.de</A>&gt; wrote:
</I>&gt;<i> And do we really really need fully configurable joystick 
</I>&gt;<i> buttons anyway? There are hardly any complaints about this on the
</I>&gt;<i> mailing lists and forums...
</I>
Yes, I think only advanced Hatari games with joysticks that have more
buttons (that Atari ones have) would use something like this.

It could be of benefit in following (corner) cases:
- Games which playing needs keys for some less uncommon functions
  (like space for starting).   These could be bound to unused joystick keys
- Games which require joystick actions which would be easier to be done
  with a single button press than with button + (diagonal) joystick move
  - The order in which button and joystick move are done can matter in some
    games though
- Games which support only keys, not joystick.  These would be mostly
  things that are ported to Atari from elsewhere, like Nethack etc I guess
- Some game supports Joystick, but in menus wants  you to use mouse,
  so you bind some keys to mouse click/doubleclick (assuming it's a single
  button in same position as earlier, you don't need to do any movements)


&gt;<i> As long as it is not easy configurable in the GUI, too, this won't help
</I>&gt;<i> anybody but you who wrote the code.
</I>
Then I started to think that maybe something like this could be done also
outside of Hatari and found these:
- <A HREF="http://qjoypad.sourceforge.net/">http://qjoypad.sourceforge.net/</A>   (needs Qt)
- <A HREF="http://rejoystick.sourceforge.net/">http://rejoystick.sourceforge.net/</A>  (needs SDL and Gtk2 for UI)

Has anybody tested these?  According to their documentation QJoyPad does
more, but even that doesn't seem to be supporting mapping joystick actions
to other joystick actions (like button to up).


&gt;<i> Sorry, but this sounds rather over-engeneered to me. Even I had to read
</I>&gt;<i> your text three times until I really understood it - I think the normal
</I>&gt;<i> user will be overextended by this.
</I>
If there are good examples, I don't think it would be too hard.  Using
exactly one byte for the joystick bits, one for the mouse button bits, one
for the modifier key bits and one byte for keycode could make it clearer.


&gt;<i> &gt; And config file could look like this:
</I>&gt;<i> &gt; -------
</I>&gt;<i> &gt; [Joystick3]
</I>&gt;<i> &gt; ButtonActions = ffff,00ab,0120
</I>&gt;<i> &gt; --------
</I>&gt;<i> &gt; (I think it would be clearest to give the values in hexadecimal.)
</I>&gt;<i>
</I>&gt;<i> Note that for this you would certainly have to extend the config file
</I>&gt;<i> parsing, too (it only supports one value per variable right now).
</I>
It could also be:
[Joystick3]
Button1Action = ...
Button2Action = ...

And in separate file so that hatari.cfg would only have:
	ButtonActionsFile = /home/user/.hatari/joybutton.cfg
And on command line:
	--buttonactions &lt;file&gt;

This way user could have different configurations for different games etc.


But I guess you would prefer external program especially as such seem to
already exist (and hopefully work with Hatari).   In that case the current
Joystick button support could be remove from Hatari and manual could
point people to these Joystick helper programs instead?


	- Eero

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000189.html">[hatari-devel] Joystick Button 2 patch
</A></li>
	<LI>Next message: <A HREF="000192.html">[hatari-devel] Joystick Button 2 patch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#191">[ date ]</a>
              <a href="thread.html#191">[ thread ]</a>
              <a href="subject.html#191">[ subject ]</a>
              <a href="author.html#191">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/hatari-devel">More information about the hatari-devel
mailing list</a><br>
</body></html>
