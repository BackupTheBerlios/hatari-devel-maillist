<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [hatari-devel] DSP emulation and sound
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/hatari-devel/2009q1/index.html" >
   <LINK REL="made" HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20DSP%20emulation%20and%20sound&In-Reply-To=%3C49C6ADA9.6090205%40free.fr%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000212.html">
   <LINK REL="Next"  HREF="000208.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[hatari-devel] DSP emulation and sound</H1>
    <B>Laurent Sallafranque</B> 
    <A HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20DSP%20emulation%20and%20sound&In-Reply-To=%3C49C6ADA9.6090205%40free.fr%3E"
       TITLE="[hatari-devel] DSP emulation and sound">laurent.sallafranque at free.fr
       </A><BR>
    <I>Sun Mar 22 22:29:13 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000212.html">[hatari-devel] Hard disk images and drivers
</A></li>
        <LI>Next message: <A HREF="000208.html">[hatari-devel] DSP emulation and sound
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#207">[ date ]</a>
              <a href="thread.html#207">[ thread ]</a>
              <a href="subject.html#207">[ subject ]</a>
              <a href="author.html#207">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I've done many tests with the current DSP emulation. For me, we can now 
consider it as stable and running well. (There may still be 1or 2 bugs, 
but nothing that we can't find).

Many programs are freezing at beginning.
I've traces many of them and it appears that everytime, these programs 
are running in SSI transfer mode. (in synchrone or interrupted mode)

I've done a quick and dirty patch to simulate a SSI event into the DSP, 
and some more programs are running  (for example : the game colums).

I think the last big bunch of code not yet emulated to emulate a good 
falcon (and reach hatari V2.0 level ;) is the sound matrix and DSP SSI part.


I'd like to discuss this with all of you before doing anything. For me, 
there are 2 things to do:
- Add a sound.c file into the falcon directory
- Add the SSI emulation into the DSP

I can try to emulate the SSI part into the DSP, but there's the other 
part (sound.c)

In this sound.c, we must:
- connect the yamaha sound, the DMA, the STe sound, the DSP and the jack 
in and out.
- ADC and DAC are not necessary ?
- take care of some timers,
- take care of the data size (8, 16 or 24 bits),
- transfer datas from 1 or more sources to 1 or more dest

I know some of you are good in sound emulation and timers, I think we 
should have a look at this to do it well.

I'm waiting for your comments.

Remark: the jack out could be played into SDL out sound. For the Jack 
in, we can code this later.

regards,

Laurent

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000212.html">[hatari-devel] Hard disk images and drivers
</A></li>
	<LI>Next message: <A HREF="000208.html">[hatari-devel] DSP emulation and sound
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#207">[ date ]</a>
              <a href="thread.html#207">[ thread ]</a>
              <a href="subject.html#207">[ subject ]</a>
              <a href="author.html#207">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/hatari-devel">More information about the hatari-devel
mailing list</a><br>
</body></html>
