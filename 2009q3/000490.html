<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [hatari-devel] Blitter interrupt CPU usage (was: Timer-D CPU	usage in latest Hatari)
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/hatari-devel/2009q3/index.html" >
   <LINK REL="made" HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%0A%09%3D%3Fiso-8859-1%3Fq%3FBlitter_interrupt_CPU_usage_%3D28was%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3F%3D3A_Timer-D_CPU%3D09usage_in_latest_Hatari%3D29%3F%3D&In-Reply-To=%3C200907191632.02115.eerot%40users.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000489.html">
   <LINK REL="Next"  HREF="000492.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[hatari-devel] Blitter interrupt CPU usage (was: Timer-D CPU	usage in latest Hatari)</H1>
    <B>Eero Tamminen</B> 
    <A HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%0A%09%3D%3Fiso-8859-1%3Fq%3FBlitter_interrupt_CPU_usage_%3D28was%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3F%3D3A_Timer-D_CPU%3D09usage_in_latest_Hatari%3D29%3F%3D&In-Reply-To=%3C200907191632.02115.eerot%40users.berlios.de%3E"
       TITLE="[hatari-devel] Blitter interrupt CPU usage (was: Timer-D CPU	usage in latest Hatari)">eerot at users.berlios.de
       </A><BR>
    <I>Sun Jul 19 15:32:01 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000489.html">[hatari-devel] Blitter interrupt CPU usage (was: Timer-D	CPU	usage in latest Hatari)
</A></li>
        <LI>Next message: <A HREF="000492.html">[hatari-devel] Blitter interrupt CPU usage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#490">[ date ]</a>
              <a href="thread.html#490">[ thread ]</a>
              <a href="subject.html#490">[ subject ]</a>
              <a href="author.html#490">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

On Sunday 19 July 2009, Matthias Arndt wrote:
&gt;<i> Am Sonntag, den 19.07.2009, 13:06 +0300 schrieb Eero Tamminen:
</I>&gt;<i> &gt; Btw. Would there be any chance of / would it make any sense to have
</I>&gt;<i> &gt; an option for a &quot;dummy&quot; STE Blitter similarly to DSP?  (As I don't see
</I>&gt;<i> &gt; how we could optimize the interrupt handling more than by couple of %
</I>&gt;<i> &gt; while making the code less readable without somehow minimizing the
</I>&gt;<i> &gt; number of interrupts that need to be handled)
</I>&gt;<i>
</I>&gt;<i> I think this does not make much sense.
</I>
Ok.


&gt;<i> An STE with Blitter disabled is no STE anymore.
</I>
Well, there's still the larger palette and DMA sound. :-)


&gt;<i> Better make the emulation code more speedier. 
</I>
The problem is that I don't see how Hatari interrupt handling (which is
currently the largest performance bottleneck by far if one forgets about
the Falcon DSP) could be speeded up more.

Using pointers instead of array to access to the interrupt table gives only
a 1-2 percent speedup while making the code less readable.  Anything
else / more clever I could think of &amp; have tested just made the interrupt
processing slower.


If you know something about blitter, please look into the Hatari code to see
whether there's something that can be done to significantly decrease
the number of generated Blitter interrupts within the emulation...

(For example Timer-D patch thingly works just fine.)


&gt;<i> Also the timing of the Blitter emulation is not accurate according to
</I>&gt;<i> the Paradox boys (and they are heavy Blitter abusers on their STE
</I>&gt;<i> productions).
</I>
The Hatari compatibility.html page lists couple of demos where the blitter
timing isn't yet accurate enough.


	- Eero

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000489.html">[hatari-devel] Blitter interrupt CPU usage (was: Timer-D	CPU	usage in latest Hatari)
</A></li>
	<LI>Next message: <A HREF="000492.html">[hatari-devel] Blitter interrupt CPU usage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#490">[ date ]</a>
              <a href="thread.html#490">[ thread ]</a>
              <a href="subject.html#490">[ subject ]</a>
              <a href="author.html#490">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/hatari-devel">More information about the hatari-devel
mailing list</a><br>
</body></html>
