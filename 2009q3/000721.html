<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [hatari-devel] CPU cycles (was: Re: Little question about SteDMA sound)
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/hatari-devel/2009q3/index.html" >
   <LINK REL="made" HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20CPU%20cycles%20%28was%3A%20Re%3A%20Little%20question%20about%20SteDMA%0A%20sound%29&In-Reply-To=%3C20090920124509.0ee78a38%40phineus%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000713.html">
   <LINK REL="Next"  HREF="000722.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[hatari-devel] CPU cycles (was: Re: Little question about SteDMA sound)</H1>
    <B>Thomas Huth</B> 
    <A HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20CPU%20cycles%20%28was%3A%20Re%3A%20Little%20question%20about%20SteDMA%0A%20sound%29&In-Reply-To=%3C20090920124509.0ee78a38%40phineus%3E"
       TITLE="[hatari-devel] CPU cycles (was: Re: Little question about SteDMA sound)">huth at users.berlios.de
       </A><BR>
    <I>Sun Sep 20 12:45:09 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000713.html">[hatari-devel] Little question about SteDMA sound
</A></li>
        <LI>Next message: <A HREF="000722.html">[hatari-devel] CPU cycles (was: Re: Little question about SteDMA sound)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#721">[ date ]</a>
              <a href="thread.html#721">[ thread ]</a>
              <a href="subject.html#721">[ subject ]</a>
              <a href="author.html#721">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, 19 Sep 2009 20:48:22 +0200 (CEST)
<A HREF="https://lists.berlios.de/mailman/listinfo/hatari-devel">npomarede at corp.free.fr</A> wrote:

&gt;<i> On Sat, 19 Sep 2009, Laurent Sallafranque wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; Shouldn't we use the same value as Nicolas used in int.c instead ?
</I>&gt;<i> &gt; As least, it would be the same value everywhere.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I agree that the 8447 is not changing many things in the result,
</I>&gt;<i> &gt; it's just to use the same value everywhere.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Could this value be written as a define in configuration.h (at
</I>&gt;<i> &gt; least, if we want to change it, it would be changed in Dmasnd.c
</I>&gt;<i> &gt; too) ?
</I>
Ok, I've added a define CPU_FREQ now which is used in dmaSnd.c and
crossbar.c

&gt;<i> I don't know, this is hard to decide because :
</I>&gt;<i>   - it's absolutly sure that a VBL in 50 Hz is 160256 cycles
</I>&gt;<i>   - so 50 * 160256 should give the CPU freq, which is not the case in
</I>&gt;<i> int.c
</I>&gt;<i> 
</I>&gt;<i> -&gt; this could mean that the VBL is not exactly 50 Hz, but there's a
</I>&gt;<i> small variation to adjust to the CPU freq to 8021247 Hz.
</I>
Actually the exact CPU frequency (or rather the 32MHz frequency that
is divided by four) also seems to differ between the exact machine type
like ST vs. STE and PAL vs. NTSC... But since the CPU&lt;-&gt;MFP ratio in
int.c has been well established since several versions now, I also think
we shouldn't touch that anymore unless there is a very good reason to
do so.

 Thomas

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000713.html">[hatari-devel] Little question about SteDMA sound
</A></li>
	<LI>Next message: <A HREF="000722.html">[hatari-devel] CPU cycles (was: Re: Little question about SteDMA sound)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#721">[ date ]</a>
              <a href="thread.html#721">[ thread ]</a>
              <a href="subject.html#721">[ subject ]</a>
              <a href="author.html#721">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/hatari-devel">More information about the hatari-devel
mailing list</a><br>
</body></html>
