<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [hatari-devel] cross compiling
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/hatari-devel/2010q2/index.html" >
   <LINK REL="made" HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20cross%20compiling&In-Reply-To=%3Calpine.LMD.2.00.1004201457490.25998%40pulsar.staff.proxad.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001880.html">
   <LINK REL="Next"  HREF="001882.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[hatari-devel] cross compiling</H1>
    <B>npomarede at corp.free.fr</B> 
    <A HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20cross%20compiling&In-Reply-To=%3Calpine.LMD.2.00.1004201457490.25998%40pulsar.staff.proxad.net%3E"
       TITLE="[hatari-devel] cross compiling">npomarede at corp.free.fr
       </A><BR>
    <I>Tue Apr 20 15:00:30 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="001880.html">[hatari-devel] cross compiling
</A></li>
        <LI>Next message: <A HREF="001882.html">[hatari-devel] cross compiling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1881">[ date ]</a>
              <a href="thread.html#1881">[ thread ]</a>
              <a href="subject.html#1881">[ subject ]</a>
              <a href="author.html#1881">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, 20 Apr 2010, Christer Solskogen wrote:

&gt;<i> On Tue, Apr 20, 2010 at 2:43 PM,  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/hatari-devel">npomarede at corp.free.fr</A>&gt; wrote:
</I>&gt;&gt;<i> On Tue, 20 Apr 2010, Christer Solskogen wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> one more question regarding cross compiling
</I>&gt;&gt;&gt;<i> CMAKE_RANLIB seems to be set to /usr/bin/ranlib - but shouldn't it
</I>&gt;&gt;&gt;<i> rather be set to i586-pc-mingw32-ranlib?
</I>&gt;&gt;&gt;<i> I'm getting a lot of &quot;could not read symbols: Archive has no index;
</I>&gt;&gt;&gt;<i> run ranlib to add one&quot;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Yes, it should. In my case the mingw's ranlib is corectly detected. The only
</I>&gt;&gt;<i> things I had to &quot;hardcode&quot; in cmake/Toolchain-mingw32.cmake were :
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> SET(CMAKE_C_COMPILER i586-pc-mingw32-gcc)
</I>&gt;&gt;<i> SET(CMAKE_CXX_COMPILER i586-pc-mingw32-g++)
</I>&gt;&gt;<i> SET(CMAKE_RC_COMPILER i586-pc-mingw32-windres)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> With these values, cmake should find the correct ranlib itself. If not, then
</I>&gt;&gt;<i> maybe your cmake version is not recent enough or not fully installed.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> After doing a 'hg revert . &amp;&amp; hg purge -v --all' and changing the
</I>&gt;<i> compiler name (I have i686-pc-mingw32-gcc) it worked. I have no idea
</I>&gt;<i> what happen. Thanks :)
</I>
Maybe you're already doing it, but when changing cmake's files if you want 
to be sure all caches are purged, it's always better to build outside of 
the source tree (in a specific dir that will contains only .o, .la and 
binaries), something like :

rm -rf build_dir
cd build_dir
cmake ../hatari_src_dir

Nicolas


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001880.html">[hatari-devel] cross compiling
</A></li>
	<LI>Next message: <A HREF="001882.html">[hatari-devel] cross compiling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1881">[ date ]</a>
              <a href="thread.html#1881">[ thread ]</a>
              <a href="subject.html#1881">[ subject ]</a>
              <a href="author.html#1881">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/hatari-devel">More information about the hatari-devel
mailing list</a><br>
</body></html>
