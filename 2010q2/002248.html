<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [hatari-devel] Small bugs (fix before 1.4?)
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/hatari-devel/2010q2/index.html" >
   <LINK REL="made" HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20Small%20bugs%20%28fix%20before%201.4%3F%29&In-Reply-To=%3Calpine.DEB.1.10.1006031614050.2933%40gem.atari.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002247.html">
   <LINK REL="Next"  HREF="002249.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[hatari-devel] Small bugs (fix before 1.4?)</H1>
    <B>Anders Eriksson</B> 
    <A HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20Small%20bugs%20%28fix%20before%201.4%3F%29&In-Reply-To=%3Calpine.DEB.1.10.1006031614050.2933%40gem.atari.org%3E"
       TITLE="[hatari-devel] Small bugs (fix before 1.4?)">ae at dhs.nu
       </A><BR>
    <I>Thu Jun  3 16:18:10 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="002247.html">[hatari-devel] Small bugs (fix before 1.4?)
</A></li>
        <LI>Next message: <A HREF="002249.html">[hatari-devel] Small bugs (fix before 1.4?)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2248">[ date ]</a>
              <a href="thread.html#2248">[ thread ]</a>
              <a href="subject.html#2248">[ subject ]</a>
              <a href="author.html#2248">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 3 Jun 2010, Thomas H. wrote:

&gt;&gt;<i> R: mask = 0x0000f800, shift=11, loss=3
</I>&gt;&gt;<i> G: mask = 0x000007e0, shift=5, loss=2
</I>&gt;&gt;<i> B: mask = 0x0000001f, shift=0, loss=3
</I>&gt;<i>
</I>&gt;<i> Ok, now that means that your Hatari is still running at 16 bit-per-pixel color depths... could you please check the line starting with &quot;nForceBpp&quot; in your ~/.hatari/hatari.cfg file? It should be &quot;nForceBpp = 0&quot; for color depth autodetection...
</I>&gt;<i>
</I>&gt;<i> However, I am quite confused now how the screenshots could end up with wrong colors on your system... the 16-bit conversion in screenSnapShot.c / pixel_convert.h looks quite endianess-save to me, so I am running out of ideas how to fix this problem... could somebody else maybe have a look at that code? Maybe I've missed something...
</I>
Hello,

I would like to repeat that previous Hatari versions (and hg-versions) 
have saved screenshots in BMP format, it has been fine then. Now it saves 
in PNG and the colours get messed up.

To me it looks like blue componnet is gone and green/red has changed 
places.

I would also like to point out that the screen rendering is fine, it's 
only the screenshots that get wrong.

I will try 32-bit when I get home.

--
Anders Eriksson
<A HREF="https://lists.berlios.de/mailman/listinfo/hatari-devel">ae at dhs.nu</A>     <A HREF="http://www.dhs.nu/">http://www.dhs.nu/</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/hatari-devel">ae at atari.org</A>  <A HREF="http://www.atari.org/">http://www.atari.org/</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002247.html">[hatari-devel] Small bugs (fix before 1.4?)
</A></li>
	<LI>Next message: <A HREF="002249.html">[hatari-devel] Small bugs (fix before 1.4?)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2248">[ date ]</a>
              <a href="thread.html#2248">[ thread ]</a>
              <a href="subject.html#2248">[ subject ]</a>
              <a href="author.html#2248">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/hatari-devel">More information about the hatari-devel
mailing list</a><br>
</body></html>
