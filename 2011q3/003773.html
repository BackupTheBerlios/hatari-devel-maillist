<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [hatari-devel] Last checks before releasing 1.5
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/hatari-devel/2011q3/index.html" >
   <LINK REL="made" HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20Last%20checks%20before%20releasing%201.5&In-Reply-To=%3C4E24AA4D.30605%40corp.free.fr%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003772.html">
   <LINK REL="Next"  HREF="003774.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[hatari-devel] Last checks before releasing 1.5</H1>
    <B>Nicolas Pomar&#232;de</B> 
    <A HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20Last%20checks%20before%20releasing%201.5&In-Reply-To=%3C4E24AA4D.30605%40corp.free.fr%3E"
       TITLE="[hatari-devel] Last checks before releasing 1.5">npomarede at corp.free.fr
       </A><BR>
    <I>Mon Jul 18 23:49:01 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003772.html">[hatari-devel] Last checks before releasing 1.5
</A></li>
        <LI>Next message: <A HREF="003774.html">[hatari-devel] Hatari 1.5.0 is released
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3773">[ date ]</a>
              <a href="thread.html#3773">[ thread ]</a>
              <a href="subject.html#3773">[ subject ]</a>
              <a href="author.html#3773">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Le 18/07/2011 23:29, David Savinkoff a &#233;crit :

&gt;&gt;<i> * Anders problem is Hatari's fault. Hatari should always provide
</I>&gt;&gt;<i>     nominal values (eg. 50Hz 44100Hz etc). The exact values are
</I>&gt;&gt;<i>     internal just like a real Atari.
</I>&gt;<i>
</I>&gt;<i> No, for the same reasons, if you want to record avi of what is emulated
</I>&gt;<i> by Hatari, then I think you should put in the avi header the most exact
</I>&gt;<i> value possible (for the same audio/video sync that can appear on STE).
</I>&gt;<i>
</I>&gt;<i> * The generated .avi file should specify 50 Hz (20ms) and 44100 Hz
</I>&gt;<i>    even though hatari did 19.979 ms internally. The .avi file would
</I>&gt;<i>    play properly everywhere and be 3.78 seconds slow for every hour
</I>&gt;<i>    in length. I challenge anyone to sit in a dark room without a
</I>&gt;<i>    clock and perceive exactly one hour to within 3.78 seconds.
</I>&gt;<i>
</I>
I agree no one will be able to tell the difference, but it's true also 
for the opposite : storing 50.053 fps in the avi header is unnoticable 
for the user without precise measures.

So, I prefer storing the refresh rate as a real ST outputs it : I mean 
if you plug an oscilloscope directly at the rear of the ST on the video 
signal, it will be 50.053 in PAL, not 50. So, I don't see the point of 
storing 50 Hz in the avi header, it's not what is produced by the ST.

The point of the fps in the header is not to tell &quot;this is close to PAL 
so we store 50 Hz&quot; ; we store the real value, it's just that &quot;PAL&quot; ST 
don't output a &quot;real&quot; PAL clock at 50 Hz, but the CRT monitors had 
enough tolerance to work anyway with this less standard 50.053 fps.

Avi files can handle non integer frame rate, it's often used when 
transcoding films from cinema sources (24 fps) to video (25 or 30 fps), 
so I don't see the problem of using it. All players support it, assuming 
the values are in a range that is not too big, which is now the case for 
the avi generated by Hatari, as Anders confirmed it.

&gt;<i> &lt;snip&gt;
</I>&gt;<i>
</I>&gt;<i> it generates. A real PAL ST produces 50.053 Hz video, so we should put
</I>&gt;<i> this value in the avi header and let the video player round it to 50 Hz
</I>&gt;<i> while playing if it wants.
</I>&gt;<i>
</I>&gt;<i> * If you recorded a real Atari with a real video recorder, there
</I>&gt;<i>    would be no mention of 50.053 Hz.
</I>
Yes, but that doesn't prove the ST doesn't output at 50.053. It's just a 
tolerance in the video recorder that will &quot;add&quot; a few ms to the signal 
to go from 19.979 ms to 20 ms. As this is added during the vertical 
blank part, you won't notice it, and your recorder will take 50.053 Hz 
as input and output 50 Hz.

Nicolas

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003772.html">[hatari-devel] Last checks before releasing 1.5
</A></li>
	<LI>Next message: <A HREF="003774.html">[hatari-devel] Hatari 1.5.0 is released
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3773">[ date ]</a>
              <a href="thread.html#3773">[ thread ]</a>
              <a href="subject.html#3773">[ subject ]</a>
              <a href="author.html#3773">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/hatari-devel">More information about the hatari-devel
mailing list</a><br>
</body></html>
