<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [hatari-devel] Last checks before releasing 1.5
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/hatari-devel/2011q3/index.html" >
   <LINK REL="made" HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20Last%20checks%20before%20releasing%201.5&In-Reply-To=%3C1928922.1635281.1311013162037.JavaMail.nitido%40priv-edtnes92%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003771.html">
   <LINK REL="Next"  HREF="003770.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[hatari-devel] Last checks before releasing 1.5</H1>
    <B>David Savinkoff</B> 
    <A HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20Last%20checks%20before%20releasing%201.5&In-Reply-To=%3C1928922.1635281.1311013162037.JavaMail.nitido%40priv-edtnes92%3E"
       TITLE="[hatari-devel] Last checks before releasing 1.5">dsavnkff at telus.net
       </A><BR>
    <I>Mon Jul 18 20:19:22 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003771.html">[hatari-devel] Rainbow2 multimedia patch accepted before release ?
</A></li>
        <LI>Next message: <A HREF="003770.html">[hatari-devel] Last checks before releasing 1.5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3768">[ date ]</a>
              <a href="thread.html#3768">[ thread ]</a>
              <a href="subject.html#3768">[ subject ]</a>
              <a href="author.html#3768">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Le 18/07/2011 02:25, David Savinkoff a &#233;crit :
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> On a personal note though, is there a way to revert the video recording
</I>&gt;&gt;&gt;<i> framerate to the old one? The new one severly breaks my toolchain for
</I>&gt;&gt;&gt;<i> recording and encoding videos, and I'm out of ideas how to solve it (been
</I>&gt;&gt;&gt;<i> struggling for the better part of today).
</I>&gt;<i>
</I>&gt;&gt;<i> In what sense does it break the video recording ? Do you mean when you
</I>&gt;&gt;<i> try to reencode the video produced by Hatari to a lower bitrate your
</I>&gt;&gt;<i> encoder doesn't support an input frame rate of 50.053 ?
</I>&gt;<i>
</I>&gt;<i> The hard facts:
</I>&gt;<i>
</I>&gt;<i> NTSC is 30 * 1000/1001 frames per second = 29.97002997002997003 fps
</I>&gt;<i> PAL is 25.000000000000000000000000000000000000 fps
</I>&gt;<i> (treat 60 and 50 the same)
</I>&gt;<i>
</I>&gt;<i> audio at 44100 and 48000 Hz sampling rates are also infinitely precise.
</I>&gt;<i>
</I>&gt;<i> The only way to deal with this is to be close to the desired frequency
</I>&gt;<i> (one part in a thousand is good enough) and tell everybody that you
</I>&gt;<i> are operating at the nominal frequency that they want to hear and
</I>&gt;<i> see. This will keep the hardware happy (people must be happy too).
</I>&gt;<i>
</I>&gt;<i> :) David
</I>
Hello,

I don't understand what you mean. What part of Hatari is not precise,
and what do you mean by &quot;infinitely precise&quot; for audio ?

** Hatari is attempting to be too precise.
** The audio and video frequencies are 'defined' to be what they are.

It's a known fact that apart from the above ntsc/pal fps numbers the ST
were never precise enough and the output video signal is not exactly the
PAL value (it's really 50.053 Hz on a PAL ST).

** 50.053 Hz is close enough to be called 50 Hz.

Do you recommand to emulate sound and video at 50.053 but to refresh
screen at 50 Hz ?

* The video card dictates its approximately 50 Hz refresh rate.
* Hatari should emulate the video at approximately 50.053 Hz in
  'emulation space' and the video card will display it in real time
  at approximately 50 Hz (PAL). To do this, hatari must use a video
  mode that supports approx 50 Hz. Then hatari 'must' supply video at
  the rate that the card demands (which probably is not 50.053 Hz).
* Note that an Atari ST and a PC video card can both display PAL.
  Thus both operate at a nominal 50 Hz. Nobody can justifiably
  complain about the emulation speed accuracy because they would be
  effectively complaining that one real Atari runs at different speed
  than another real Atari.

Why do you say it will keep hardware happy ? I'm not sure Anders is
speaking about hardware, but about software.

* Anders problem is Hatari's fault. Hatari should always provide
  nominal values (eg. 50Hz 44100Hz etc). The exact values are
  internal just like a real Atari.

On LCD monitors, it's quite unlikely you can output 50 Hz video, it's
more often 60 Hz, so having 50 Hz or 50.053 would not change anything in
the end.

* Note that it is the 'video card' that dictates the frequency. The
  monitor synchronizes to the video card. Hatari must either synchronize
  to the video card or allow SDL/system to insert or drop a frame
  periodically. The video card is guaranteed to Not be exactly 60 Hz.
  I do not recommend synchronizing to the video card because
  synchronizing to the sound card is better.

* The same applies to audio.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003771.html">[hatari-devel] Rainbow2 multimedia patch accepted before release ?
</A></li>
	<LI>Next message: <A HREF="003770.html">[hatari-devel] Last checks before releasing 1.5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3768">[ date ]</a>
              <a href="thread.html#3768">[ thread ]</a>
              <a href="subject.html#3768">[ subject ]</a>
              <a href="author.html#3768">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/hatari-devel">More information about the hatari-devel
mailing list</a><br>
</body></html>
