<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [hatari-devel] ide.c memory leak and ifdefs
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/hatari-devel/2010q1/index.html" >
   <LINK REL="made" HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20ide.c%20memory%20leak%20and%20ifdefs&In-Reply-To=%3C201001272109.13952.eerot%40users.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001365.html">
   <LINK REL="Next"  HREF="001366.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[hatari-devel] ide.c memory leak and ifdefs</H1>
    <B>Eero Tamminen</B> 
    <A HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20ide.c%20memory%20leak%20and%20ifdefs&In-Reply-To=%3C201001272109.13952.eerot%40users.berlios.de%3E"
       TITLE="[hatari-devel] ide.c memory leak and ifdefs">eerot at users.berlios.de
       </A><BR>
    <I>Wed Jan 27 20:09:13 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="001365.html">[hatari-devel] ide.c memory leak and ifdefs
</A></li>
        <LI>Next message: <A HREF="001366.html">[hatari-devel] Whip is working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1370">[ date ]</a>
              <a href="thread.html#1370">[ thread ]</a>
              <a href="subject.html#1370">[ subject ]</a>
              <a href="author.html#1370">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

On Wednesday 27 January 2010, Thomas Huth wrote:
&gt;<i> Eero Tamminen &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/hatari-devel">eerot at users.berlios.de</A>&gt; wrote:
</I>&gt;<i> &gt; &gt; &gt; Is there any reason to even support these unsafe &amp; obsolete
</I>&gt;<i> &gt; &gt; &gt; valign() &amp; memalign() functions (one can trivially implement
</I>&gt;<i> &gt; &gt; &gt; aligned malloc that works better...)?
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; IIRC the valloc call was the only function that was available
</I>&gt;<i> &gt; &gt; everywhere. posix_memalign() was not available on MinGW, memalign()
</I>&gt;<i> &gt; &gt; was not available on Mac OS X.
</I>
But posix_memalign() is available on OSX?

(I'm wondering about what check to add to config-default.h)


&gt;<i> &gt; It falls always to valloc on purpose?
</I>&gt;<i>
</I>&gt;<i> There are proper tests for these functions in the configure.ac file.
</I>&gt;<i>
</I>&gt;<i> It's just missing from config-default.h... well, did I tell you that
</I>&gt;<i> it's a big advantage to have one build system for all, and not to have
</I>&gt;<i> to do thing twice or three times...?
</I>&gt;<i>
</I>&gt;<i> &gt; With CMake you could check &amp; set the appropriate defines. :-)
</I>&gt;<i>
</I>&gt;<i> Piece of cake. Done.
</I>
Btw. Now that I commited the improved long filename support,
glob() checks can be removed...

opendir() was already used in gemdos.c, and if that's there, readdir() and
closedir() that are used by the new code should also exist.  I don't see any
test for opendir() though...


	- Eero

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001365.html">[hatari-devel] ide.c memory leak and ifdefs
</A></li>
	<LI>Next message: <A HREF="001366.html">[hatari-devel] Whip is working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1370">[ date ]</a>
              <a href="thread.html#1370">[ thread ]</a>
              <a href="subject.html#1370">[ subject ]</a>
              <a href="author.html#1370">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/hatari-devel">More information about the hatari-devel
mailing list</a><br>
</body></html>
