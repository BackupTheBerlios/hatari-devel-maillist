<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [hatari-devel] DSP breakpoints and single-stepping
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/hatari-devel/2009q2/index.html" >
   <LINK REL="made" HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20DSP%20breakpoints%20and%20single-stepping&In-Reply-To=%3C200906072021.16506.eerot%40users.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000351.html">
   <LINK REL="Next"  HREF="000349.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[hatari-devel] DSP breakpoints and single-stepping</H1>
    <B>Eero Tamminen</B> 
    <A HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20DSP%20breakpoints%20and%20single-stepping&In-Reply-To=%3C200906072021.16506.eerot%40users.berlios.de%3E"
       TITLE="[hatari-devel] DSP breakpoints and single-stepping">eerot at users.berlios.de
       </A><BR>
    <I>Sun Jun  7 19:21:16 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000351.html">[hatari-devel] CPU breakpoints and single-stepping
</A></li>
        <LI>Next message: <A HREF="000349.html">[hatari-devel] DSP breakpoints and single-stepping
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#345">[ date ]</a>
              <a href="thread.html#345">[ thread ]</a>
              <a href="subject.html#345">[ subject ]</a>
              <a href="author.html#345">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

On Sunday 07 June 2009, Thomas Huth wrote:
&gt;<i> I've added now (simple) breakpoint and single-stepping support.
</I>&gt;<i> That's all what I need right now, so if you need more complex rules for
</I>&gt;<i> breakpoints, feel free to implement it (but please try to keep the
</I>&gt;<i> source code simple and understandable ;-)).
</I>
Attached is code for implementing DSP breakpoints &amp; single stepping
with the new code.  Otherwise it's a straight forward copy/paste of what
you did for CPU breakpoints etc, but handling of continue was a bit awkward.

I decided to handle both DSP and CPU in the same continue function and let
the associated variables be available regardless of whether DSP is enabled.
The reason for this is that I though that one would want to single step
either DSP or CPU, not both (which could happen otherwise easily).  If this
assumption is incorrect, I guess it would be best just to copy/pasting
the continue function for DSP and using common defines for the messages.

Other changes:
- Added command shortcut to the main help
- Finetuning of some of the messages (state whether it's DSP or CPU etc)
- Changed DSP debug shortcuts back to 2 letters
- typedeffed dbgcommand_t
- Added likely/unlikely gcc extension macros to main.h &amp; used them in dsp.c

Comments?


	- Eero
-------------- next part --------------
A non-text attachment was scrubbed...
Name: dsp-breakpoint2.diff
Type: text/x-diff
Size: 11088 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/hatari-devel/attachments/20090607/f6f2624f/attachment.diff">https://lists.berlios.de/pipermail/hatari-devel/attachments/20090607/f6f2624f/attachment.diff</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000351.html">[hatari-devel] CPU breakpoints and single-stepping
</A></li>
	<LI>Next message: <A HREF="000349.html">[hatari-devel] DSP breakpoints and single-stepping
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#345">[ date ]</a>
              <a href="thread.html#345">[ thread ]</a>
              <a href="subject.html#345">[ subject ]</a>
              <a href="author.html#345">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/hatari-devel">More information about the hatari-devel
mailing list</a><br>
</body></html>
