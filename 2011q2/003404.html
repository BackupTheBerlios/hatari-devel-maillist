<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [hatari-devel] Some more demos that fail with 1.4
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/hatari-devel/2011q2/index.html" >
   <LINK REL="made" HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20Some%20more%20demos%20that%20fail%20with%201.4&In-Reply-To=%3C4DC70DB8.40001%40corp.free.fr%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003421.html">
   <LINK REL="Next"  HREF="003412.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[hatari-devel] Some more demos that fail with 1.4</H1>
    <B>Nicolas Pomar&#232;de</B> 
    <A HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20Some%20more%20demos%20that%20fail%20with%201.4&In-Reply-To=%3C4DC70DB8.40001%40corp.free.fr%3E"
       TITLE="[hatari-devel] Some more demos that fail with 1.4">npomarede at corp.free.fr
       </A><BR>
    <I>Sun May  8 23:40:08 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003421.html">[hatari-devel] Code-review, unit tests and bug-tracker
</A></li>
        <LI>Next message: <A HREF="003412.html">[hatari-devel] HDC/ACSI command sector count &amp; error handling?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3404">[ date ]</a>
              <a href="thread.html#3404">[ thread ]</a>
              <a href="subject.html#3404">[ subject ]</a>
              <a href="author.html#3404">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Le 27/03/2011 18:22, Eero Tamminen a &#233;crit :
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> On lauantai 26 maaliskuu 2011, Nicolas Pomar&#232;de wrote:
</I>&gt;&gt;&gt;<i> 4.
</I>&gt;&gt;&gt;<i> Music Dream 2 / Electronic Images (Phenomena conversion)
</I>&gt;&gt;&gt;<i> <A HREF="http://no-fragments.atari.org/no_fragments_01/MSA/E/EI/MSXDREM2.MSA">http://no-fragments.atari.org/no_fragments_01/MSA/E/EI/MSXDREM2.MSA</A>
</I>&gt;&gt;&gt;<i> <A HREF="http://pouet.net/prod.php?which=21037">http://pouet.net/prod.php?which=21037</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> a) Crashes when the menu appears
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This is now fixed ; worked for me at first, but in fact that was because
</I>&gt;&gt;<i> I'm using some dma sound changes I didn't commit yet.
</I>&gt;&gt;<i> In the case of this demo, it reads $ff8909/0b/0d but the address was not
</I>&gt;&gt;<i> properly updated in Hatari.
</I>&gt;<i>
</I>&gt;<i> If I run this with &quot;--fast-forward yes&quot;:
</I>&gt;<i> - first the menu jumps up and down for a while
</I>&gt;<i> - then screen turns red and music gets stuck in a loop,
</I>&gt;<i>    and it's stuck even if I disable fast-forward.
</I>&gt;<i>
</I>&gt;<i> Without fast-forward it works fine.
</I>&gt;<i>
</I>
I uploaded a new version that takes care of not messing with the way 
$ff8909/0b/0d are computed when exiting fast forward or pause mode 
(which should prevent the demo from randomly locking after exiting the 
F12 menu for example).

The trick is that reseting the sound buffer should only be done just 
after all the samples for a VBL were generated (else, it will reset 
CurrentSamplesNb which will cause more samples than expected to be 
generated for the VBL).

I still need to find the cause of the problem while in fast forward 
mode, as the dma sound address seems to get wrong there too.

Nicolas

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003421.html">[hatari-devel] Code-review, unit tests and bug-tracker
</A></li>
	<LI>Next message: <A HREF="003412.html">[hatari-devel] HDC/ACSI command sector count &amp; error handling?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3404">[ date ]</a>
              <a href="thread.html#3404">[ thread ]</a>
              <a href="subject.html#3404">[ subject ]</a>
              <a href="author.html#3404">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/hatari-devel">More information about the hatari-devel
mailing list</a><br>
</body></html>
