<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [hatari-devel] Two Hatari bugs
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/hatari-devel/2011q2/index.html" >
   <LINK REL="made" HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20Two%20Hatari%20bugs&In-Reply-To=%3C4DCEBC84.5050502%40corp.free.fr%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003435.html">
   <LINK REL="Next"  HREF="003440.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[hatari-devel] Two Hatari bugs</H1>
    <B>Nicolas Pomar&#232;de</B> 
    <A HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20Two%20Hatari%20bugs&In-Reply-To=%3C4DCEBC84.5050502%40corp.free.fr%3E"
       TITLE="[hatari-devel] Two Hatari bugs">npomarede at corp.free.fr
       </A><BR>
    <I>Sat May 14 19:31:48 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003435.html">[hatari-devel] Two Hatari bugs
</A></li>
        <LI>Next message: <A HREF="003440.html">[hatari-devel] Two Hatari bugs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3436">[ date ]</a>
              <a href="thread.html#3436">[ thread ]</a>
              <a href="subject.html#3436">[ subject ]</a>
              <a href="author.html#3436">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Le 14/05/2011 18:48, Anders Eriksson a &#233;crit :
&gt;<i> On Sat, 14 May 2011, Nicolas Pomar&#232;de wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Do you mean reg 13 in the YM file is never set to 0xff, or the opposite ?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> From the code in ymformat.c, we have :
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> if (bEnvelopeFreqFlag)
</I>&gt;&gt;<i> *pYMData++ = SoundRegs[PSG_REG_ENV_SHAPE];
</I>&gt;&gt;<i> else
</I>&gt;&gt;<i> *pYMData++ = 0xff;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I tried recording an YM from the GEM desktop and reg 13 is always 0xff
</I>&gt;&gt;<i> in the YM file.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Same in the 2 files you sent, reg 13 is always 0xff ; are you sure
</I>&gt;&gt;<i> those tunes don't use mfp timer to change reg 13 ? Because in that
</I>&gt;&gt;<i> case it clearly won't work in Hatari's ym dumping.
</I>&gt;<i>
</I>&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I think I wasn't clear enough, here's from the YM3! file format
</I>&gt;<i> description:
</I>
That's what I understood ; what I meant is that it seemed to work for 
me. For example, I attached the recording of the Decade Demo's intro 
screen. Looking at the ym file, you can see that reg 13 is changed twice 
(to 0x0c), and is set to 0xff the rest of the time.
(see the small ym file attached).

So, Hatari's behaviour seems OK from that point of view.

&gt;<i> As I understand it, reg 13 should only be $ff if the Atari has not
</I>&gt;<i> accessed it during the VBL.
</I>
Seems to be the case in my tests.

Nicolas
-------------- next part --------------
A non-text attachment was scrubbed...
Name: hatari.ym.gz
Type: application/x-gzip
Size: 789 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/hatari-devel/attachments/20110514/50fab8f4/attachment.bin">https://lists.berlios.de/pipermail/hatari-devel/attachments/20110514/50fab8f4/attachment.bin</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003435.html">[hatari-devel] Two Hatari bugs
</A></li>
	<LI>Next message: <A HREF="003440.html">[hatari-devel] Two Hatari bugs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3436">[ date ]</a>
              <a href="thread.html#3436">[ thread ]</a>
              <a href="subject.html#3436">[ subject ]</a>
              <a href="author.html#3436">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/hatari-devel">More information about the hatari-devel
mailing list</a><br>
</body></html>
