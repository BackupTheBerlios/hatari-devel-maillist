<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [hatari-devel] Execution history debugger command
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/hatari-devel/2011q2/index.html" >
   <LINK REL="made" HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20Execution%20history%20debugger%20command&In-Reply-To=%3C201105291342.30413.eerot%40users.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003486.html">
   <LINK REL="Next"  HREF="003488.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[hatari-devel] Execution history debugger command</H1>
    <B>Eero Tamminen</B> 
    <A HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20Execution%20history%20debugger%20command&In-Reply-To=%3C201105291342.30413.eerot%40users.berlios.de%3E"
       TITLE="[hatari-devel] Execution history debugger command">eerot at users.berlios.de
       </A><BR>
    <I>Sun May 29 12:42:30 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003486.html">[hatari-devel] Execution history debugger command
</A></li>
        <LI>Next message: <A HREF="003488.html">[hatari-devel] Execution history debugger command
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3487">[ date ]</a>
              <a href="thread.html#3487">[ thread ]</a>
              <a href="subject.html#3487">[ subject ]</a>
              <a href="author.html#3487">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

On sunnuntai 29 toukokuu 2011, Nicolas Pomar&#232;de wrote:
&gt;<i> in my long experiment of asm coding, I must admit I rarely missed a
</I>&gt;<i> history. The problem is that if you only store registers (pc, ...) you
</I>&gt;<i> will have an incomplete view of what happened, because you won't know
</I>&gt;<i> what values were in memory at the time it was accessed.  And debugging
</I>&gt;<i> code without having the associated ram values is more or less just like
</I>&gt;<i> reading the source code without really executing it, which is something
</I>&gt;<i> you can already do.
</I>
Where this helps is greatly narrowing out which part of the code you need to
read.

If you have a place where the issue happens, but code jumps to it from
many different places:
* reading code for a large program to find out where/why it happens is not
  very feasible
* if there are loops, disassembly output is just too verbose, and
* while with beakpoints it's feasible to track that, it can be tedious
  (&quot;oh, now I need to set breakpoint for that and re-run this thing again&quot;)


&gt;<i> There, you have the registers and a history of what value were in PC,
</I>&gt;<i> but I'm not sure it's enough to do something that really add extra
</I>&gt;<i> values. Breakpoints are much more useful, and in the current state we
</I>&gt;<i> have some rather good syntax to handle them.
</I>
It's not a replacement for breakpoints, but a helper for tracking back what
lead to triggering of the breakpoint.


&gt;<i> Of course, the problem is not to do it, but will someone use it in real
</I>&gt;<i> case ? Honestly, I'm not sure it will be used.
</I>
I'm often using profiling to check where code gets stuck (is it looping
in some small part of code or all over the place in TOS etc).

History makes it easier for me to find out how the code ends up in that
tight loop without needing to set any breakpoints, then I can just
disassemble &amp; read the code around places shown by profile &amp; history.


&gt;<i> A lot of things can be added to Hatari regarding debugging, but we
</I>&gt;<i> should stay consistent and focus mainly on emulation, I think the debug
</I>&gt;<i> functions we have are largely enough (unless we have some feedbacks from
</I>&gt;<i> users, which until there has not really been the case regarding the
</I>&gt;<i> debug part).
</I>
That might be because Hatari hasn't had all features that native debuggers
have (and because some people don't like using command line debugger)... :-)


&gt;<i> There's a lot of potential things that can be made, but if it's just at
</I>&gt;<i> the expense of code's growth and no one using it, I'm not sure it's
</I>&gt;<i> interesting to add them just for the sake of doing it.
</I>
Well, I've actually been thinking of eventually adding most of Monst
features to Hatari...  History is one of these features (and it's on todo
list).


	- Eero

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003486.html">[hatari-devel] Execution history debugger command
</A></li>
	<LI>Next message: <A HREF="003488.html">[hatari-devel] Execution history debugger command
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3487">[ date ]</a>
              <a href="thread.html#3487">[ thread ]</a>
              <a href="subject.html#3487">[ subject ]</a>
              <a href="author.html#3487">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/hatari-devel">More information about the hatari-devel
mailing list</a><br>
</body></html>
