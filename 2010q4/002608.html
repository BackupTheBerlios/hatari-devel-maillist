<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [hatari-devel] WinUae CPU for hatari
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/hatari-devel/2010q4/index.html" >
   <LINK REL="made" HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20WinUae%20CPU%20for%20hatari&In-Reply-To=%3C20101106193922.4960173d%40phineus%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002607.html">
   <LINK REL="Next"  HREF="002609.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[hatari-devel] WinUae CPU for hatari</H1>
    <B>Thomas Huth</B> 
    <A HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20WinUae%20CPU%20for%20hatari&In-Reply-To=%3C20101106193922.4960173d%40phineus%3E"
       TITLE="[hatari-devel] WinUae CPU for hatari">huth at users.berlios.de
       </A><BR>
    <I>Sat Nov  6 19:39:22 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="002607.html">[hatari-devel] WinUae CPU for hatari
</A></li>
        <LI>Next message: <A HREF="002609.html">[hatari-devel] WinUae CPU for hatari
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2608">[ date ]</a>
              <a href="thread.html#2608">[ thread ]</a>
              <a href="subject.html#2608">[ subject ]</a>
              <a href="author.html#2608">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, 06 Nov 2010 18:33:15 +0100
Laurent Sallafranque &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/hatari-devel">laurent.sallafranque at free.fr</A>&gt; wrote:

&gt;<i> I think I've got a problem with the rom or boot.
</I>&gt;<i> 
</I>&gt;<i> If some of you wants to play with the new core, don't hesitate to
</I>&gt;<i> upload things.
</I>&gt;<i> 
</I>&gt;<i> I've added the traces I get when I start Hatari
</I>&gt;<i> 
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/hatari-devel">laurent at OrdiLolo</A>:~/Atari/hatari/build/src$ ./hatari
</I>&gt;<i> Configuration file /etc/hatari.cfg not found.
</I>&gt;<i> Hatari devel (Nov  6 2010), compiled on:  Nov  6 2010, 17:04:15
</I>&gt;<i> Building CPU table for configuration: 0
</I>&gt;<i> 1879 CPU functions
</I>&gt;<i> Building CPU, 44316 opcodes (0 0 0)
</I>&gt;<i> CPU=68000, FPU=0, MMU=0, JIT=0.
</I>&gt;<i> GEMDOS HDD emulation, C: &lt;-&gt; /media/0470BC8670BC7FCA/Jeux/Atari.
</I>&gt;<i> bt_audio_service_open: connect() failed: Connection refused (111)
</I>&gt;<i> bt_audio_service_open: connect() failed: Connection refused (111)
</I>&gt;<i> bt_audio_service_open: connect() failed: Connection refused (111)
</I>&gt;<i> bt_audio_service_open: connect() failed: Connection refused (111)
</I>&gt;<i> M68000 Bus Error reading at address $0.
</I>&gt;<i> M68000 Bus Error reading at address $4.
</I>
That rings a bell... yes, I remember this problem from my last attempts
to convert the WinUAE CPU core: m68k_reset tries to access the low
memory for setting the PC and SP before the supervisor bit is turned on
in the SR. This can be easy fixed by moving the memory access down a
little bit in that function. I've committed a fix.

 Regards,
  Thomas

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002607.html">[hatari-devel] WinUae CPU for hatari
</A></li>
	<LI>Next message: <A HREF="002609.html">[hatari-devel] WinUae CPU for hatari
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2608">[ date ]</a>
              <a href="thread.html#2608">[ thread ]</a>
              <a href="subject.html#2608">[ subject ]</a>
              <a href="author.html#2608">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/hatari-devel">More information about the hatari-devel
mailing list</a><br>
</body></html>
