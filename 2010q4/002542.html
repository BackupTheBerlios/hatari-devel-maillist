<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [hatari-devel] Catching trap exit?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/hatari-devel/2010q4/index.html" >
   <LINK REL="made" HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20Catching%20trap%20exit%3F&In-Reply-To=%3C4CBC9467.80907%40freesbee.fr%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002667.html">
   <LINK REL="Next"  HREF="002553.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[hatari-devel] Catching trap exit?</H1>
    <B>Vincent Rivi&#232;re</B> 
    <A HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20Catching%20trap%20exit%3F&In-Reply-To=%3C4CBC9467.80907%40freesbee.fr%3E"
       TITLE="[hatari-devel] Catching trap exit?">vincent.riviere at freesbee.fr
       </A><BR>
    <I>Mon Oct 18 20:39:35 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="002667.html">[hatari-devel] Catching trap exit?
</A></li>
        <LI>Next message: <A HREF="002553.html">[hatari-devel] WinUae CPU for hatari
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2542">[ date ]</a>
              <a href="thread.html#2542">[ thread ]</a>
              <a href="subject.html#2542">[ subject ]</a>
              <a href="author.html#2542">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Eero Tamminen wrote:
&gt;<i> So, I'd like to catch trap exit.  Any advice how?
</I>
Easy.
On trap enter, the return address is specified in 2(sp). Add a breakpoint to 
be hit when PC is equal to that value, and you're done.

This may give strange results with functions like Pexec(), Pterm() and AES 
calls (due to AES cooperative multitasking) because the return address may 
be hacked by the trap handler.

-- 
Vincent Rivi&#232;re

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002667.html">[hatari-devel] Catching trap exit?
</A></li>
	<LI>Next message: <A HREF="002553.html">[hatari-devel] WinUae CPU for hatari
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2542">[ date ]</a>
              <a href="thread.html#2542">[ thread ]</a>
              <a href="subject.html#2542">[ subject ]</a>
              <a href="author.html#2542">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/hatari-devel">More information about the hatari-devel
mailing list</a><br>
</body></html>
