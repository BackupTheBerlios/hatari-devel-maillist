<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [hatari-devel] Redirecting CON: to console
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/hatari-devel/2010q4/index.html" >
   <LINK REL="made" HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20Redirecting%20CON%3A%20to%20console&In-Reply-To=%3C4CAE18B8.3080109%40freesbee.fr%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002470.html">
   <LINK REL="Next"  HREF="002472.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[hatari-devel] Redirecting CON: to console</H1>
    <B>Vincent Rivi&#232;re</B> 
    <A HREF="mailto:hatari-devel%40lists.berlios.de?Subject=Re%3A%20%5Bhatari-devel%5D%20Redirecting%20CON%3A%20to%20console&In-Reply-To=%3C4CAE18B8.3080109%40freesbee.fr%3E"
       TITLE="[hatari-devel] Redirecting CON: to console">vincent.riviere at freesbee.fr
       </A><BR>
    <I>Thu Oct  7 21:00:08 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="002470.html">[hatari-devel] Redirecting CON: to console
</A></li>
        <LI>Next message: <A HREF="002472.html">[hatari-devel] Redirecting CON: to console
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2471">[ date ]</a>
              <a href="thread.html#2471">[ thread ]</a>
              <a href="subject.html#2471">[ subject ]</a>
              <a href="author.html#2471">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Eero Tamminen wrote:
&gt;<i> On quick look I didn't see anything like that...
</I>
Checked again with TOS 1.62.
Look at the offset 0x30 in the basepage. There are 6 signed bytes. They are 
the nonstandard handles (files or devices) associated to the standard 
handles (0 to 5).

So the standard values of these bytes are :
0 -&gt; -1 BIOS console
1 -&gt; -1 BIOS console
2 -&gt; -2 serial port
3 -&gt; -3 parallel port
4 -&gt; -1 BIOS console
5 -&gt; -1 BIOS console

If someone wants to hook the GEMDOS output to the console, hook all the 
output functions (Fwrite(), but also Cconws(), and even Cauxos() and others) 
and look in the above table. If the standard handle is associated to -1, it 
is an output to the console.

However, this does not solve the Fdup() problem.

Anyway, simply hooking the console output at the BIOS level should do the 
expected thing in all cases, isn't it ?

-- 
Vincent Rivi&#232;re

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002470.html">[hatari-devel] Redirecting CON: to console
</A></li>
	<LI>Next message: <A HREF="002472.html">[hatari-devel] Redirecting CON: to console
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2471">[ date ]</a>
              <a href="thread.html#2471">[ thread ]</a>
              <a href="subject.html#2471">[ subject ]</a>
              <a href="author.html#2471">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/hatari-devel">More information about the hatari-devel
mailing list</a><br>
</body></html>
